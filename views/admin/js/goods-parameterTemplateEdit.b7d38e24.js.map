{"version":3,"sources":["webpack:///./src/pages/goods/parameterTemplateEdit.vue","webpack:///src/pages/goods/parameterTemplateEdit.vue","webpack:///./src/pages/goods/parameterTemplateEdit.vue?a2de","webpack:///./src/pages/goods/parameterTemplateEdit.vue?a5f5"],"names":["staticRenderFns","name","data","form","title","content","rules","loading","disabled","methods","pushParameter","this","push","value","deletionParameter","length","$delete","index","submit","$refs","validate","valid","method","getDetail","$heshop","mounted","$route","query","id","render","component"],"mappings":"0IAAI,EAAQA,E,qBCCZ,G,oBAAA,CACEC,KAAM,wBACNC,KAFF,WAGI,MAAO,CACLC,KAAM,CACJC,MAAO,GACPC,QAAS,CACjB,CACU,KAAV,GACU,MAAV,MAIMC,MAAO,CACLF,MAAO,CACf,CACU,UAAV,EACU,QAAV,eAGQC,QAAS,CACjB,CACU,UAAV,EACU,UAAV,gBACY,IAAZ,uBACA,uBACgB,EAAhB,YAGY,QAKNE,SAAS,EACTC,UAAU,IAGdC,QAAS,CACPC,cADJ,WAEMC,KAAKR,KAAKE,QAAQO,KAAK,CACrBX,KAAM,GACNY,MAAO,MAGXC,kBAPJ,SAOA,GACUH,KAAKR,KAAKE,QAAQU,QAAU,GAChCJ,KAAKK,QAAQL,KAAKR,KAAKE,QAASY,IAElCC,OAXJ,WAWA,WACMP,KAAKQ,MAAM,QAAQC,UAAS,SAAlC,GACQ,IAAIC,EA0BF,OAAO,EAzBP,EAAV,WACU,IAAV,SAEYC,EADE,EAAd,QACqB,MAEA,OAEX,IAAV,oCACU,EAAV,QACA,eACA,kBACY,EAAZ,yBACY,EAAZ,WACY,EAAZ,cACc,KAAd,gCAGA,mBACA,UACc,EAAd,kCAEc,EAAd,sCASIC,UA5CJ,SA4CA,cACMZ,KAAKa,QACX,6BACA,kBACQ,EAAR,OACQ,EAAR,eAEA,mBACQ,EAAR,oCAIEC,QA9FF,WA+FQd,KAAKe,OAAOC,MAAMC,KACpBjB,KAAKH,UAAW,EAChBG,KAAKY,UAAUZ,KAAKe,OAAOC,MAAMC,MAGrCC,OApGF,WAoGA,0BACA,OACI,OAAO,EAAX,aACA,WADA,6CAEA,wBAFA,4CAIA,8BAJA,4EASA,CACQ,MAAR,OACQ,MAAR,UAXA,OAaA,UAbA,IAcA,OAdA,qBAeA,SAfA,kCAgBA,eAhBA,gCAiBA,SAjBA,KAiBA,UAjBA,gCAmBA,KAnBA,iCAuBA,aAvBA,MAsBA,gBAtBA,aAqBA,aArBA,4BAqBA,OArBA,gDA0BA,OA1BA,KA0BA,WA1BA,MA0BA,cA1BA,CA2BA,oCACM,OAAN,SAAQ,MACR,gBADA,mBAAQ,MAAR,CAAU,MAEV,MAFU,cAEV,QAFQ,IAER,WAFA,eAAQ,MAAR,CAAU,UAIV,IAJU,mBAAV,EAAU,YAQV,UARQ,MAOR,gBAPQ,MAAR,CAAU,MAMV,OANU,SAAV,YAAY,EAAZ,KAMA,EANA,uBAAQ,MAUR,kBAVA,iCAAQ,MAAR,CAAU,MAYV,MAZU,cAYV,QAZQ,IAYR,YAZA,eAAQ,MAAR,CAAU,OAeV,OAfU,KAgBV,IAhBU,KAiBV,WAjBU,YAmBV,UAnBQ,MAkBR,gBAlBQ,MAAR,CAAU,MAcV,QAdU,SAAV,YAAY,EAAZ,KAcA,EAdA,wBAAQ,MAqBR,kBArBA,oCAuBA,WACQ,GAAR,aACU,OAAV,SAAY,MAEZ,mCAFY,GAAZ,CAAc,MAGd,iCALA,UAnDA,2CAkEA,iBAlEA,cAkEA,IAlEA,6BAuEA,cAvEA,4BAyEA,UAzEA,SA0EA,WA1EA,QA2EA,wBA3EA,UA4EA,WA5EA,eCvGkd,I,wBFQ9cC,EAAY,eACd,EACA,EACA9B,GACA,EACA,KACA,WACA,MAIa,aAAA8B,E,6CGnBf,W","file":"js/goods-parameterTemplateEdit.b7d38e24.js","sourcesContent":["var render, staticRenderFns\nimport script from \"./parameterTemplateEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./parameterTemplateEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./parameterTemplateEdit.vue?vue&type=style&index=0&id=1acb526e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1acb526e\",\n  null\n  \n)\n\nexport default component.exports","<script>\nexport default {\n  name: 'parameterTemplateEdit',\n  data() {\n    return {\n      form: {\n        title: '',\n        content: [\n          {\n            name: '',\n            value: ''\n          }\n        ]\n      },\n      rules: {\n        title: [\n          {\n            required: true,\n            message: '参数模板名称不能为空'\n          }\n        ],\n        content: [\n          {\n            required: true,\n            validator: (rule, value, callback) => {\n              for (let i = 0; i < value.length; i++) {\n                if (!value[i].value || !value[i].name) {\n                  callback('参数内容不能为空');\n                }\n              }\n              callback();\n            }\n          }\n        ]\n      },\n      loading: false,\n      disabled: false\n    };\n  },\n  methods: {\n    pushParameter() {\n      this.form.content.push({\n        name: '',\n        value: ''\n      });\n    },\n    deletionParameter(index) {\n      if (this.form.content.length <= 1) return;\n      this.$delete(this.form.content, index);\n    },\n    submit() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          this.loading = true;\n          let method = undefined;\n          if (this.form.id) {\n            method = 'put';\n          } else {\n            method = 'post';\n          }\n          let data = this.$heshop.utils.deepClone(this.form);\n          this.$heshop\n            .goodsargs(method, data)\n            .then(res => {\n              this.$message.success('保存成功');\n              this.loading = false;\n              this.$router.push({\n                path: '/goods/parameterTemplate'\n              });\n            })\n            .catch(err => {\n              if (err.data[0]) {\n                this.$message.error(err.data[0].message);\n              } else {\n                this.$message.error(err.data.message);\n              }\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 获取详情\n    getDetail(id) {\n      this.$heshop\n        .goodsargs('get', parseInt(id))\n        .then(res => {\n          this.form = res;\n          this.disabled = false;\n        })\n        .catch(error => {\n          this.$message.error(error.data.message);\n        });\n    }\n  },\n  mounted() {\n    if (this.$route.query.id) {\n      this.disabled = true;\n      this.getDetail(this.$route.query.id);\n    }\n  },\n  render() {\n    const self = this;\n    return (\n      <div class=\"le-main\">\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n          <el-breadcrumb-item>\n            <a href=\"javascript:history.back()\">参数模板</a>\n          </el-breadcrumb-item>\n          <el-breadcrumb-item>新增参数模板</el-breadcrumb-item>\n        </el-breadcrumb>\n        <el-form\n          props={{\n            model: self.form,\n            rules: self.rules\n          }}\n          class=\"le-card\"\n          ref=\"form\"\n          label-width=\"164px\"\n          v-loading={self.loading}>\n          <el-form-item label=\"参数模板名称\" prop=\"title\">\n            <el-input\n              maxlength=\"10\"\n              show-word-limit\n              v-model={self.form.title}\n              class=\"le-input--240\"\n              placeholder=\"请输入参数模板名称\"\n            />\n          </el-form-item>\n          <el-form-item label=\"参数内容\" prop=\"content\" class=\"le-content\">\n            {self.form.content.map((item, index, array) => {\n              return (\n                <div class=\"le-parameter\">\n                  <el-form-item label=\"参数名\" label-width=\"82px\" key={index + '_name'}>\n                    <el-input\n                      maxlength=\"8\"\n                      show-word-limit\n                      v-model={item.name}\n                      class=\"le-input--240\"\n                      placeholder=\"请输入参数名\"\n                    />\n                    <div class=\"le-prompt-text\">示例：语言种类</div>\n                  </el-form-item>\n                  <el-form-item label=\"参数值\" label-width=\"82px\" key={index + '_value'}>\n                    <el-input\n                      v-model={item.value}\n                      resize=\"none\"\n                      rows=\"5\"\n                      type=\"textarea\"\n                      class=\"le-input--600\"\n                      placeholder=\"请输入参数值\"\n                    />\n                    <div class=\"le-prompt-text\">建议参数值之间用“；”隔开，示例：汉语；英语；法语；德语</div>\n                  </el-form-item>\n                  {(() => {\n                    if (array.length !== 1) {\n                      return (\n                        <div\n                          class=\"le-deletion le-icon le-icon-cha2\"\n                          onClick={self.deletionParameter.bind(self, index)}\n                        />\n                      );\n                    }\n                  })()}\n                </div>\n              );\n            })}\n          </el-form-item>\n          <el-form-item>\n            <el-button onClick={self.pushParameter} plain={true}>\n              添加参数\n            </el-button>\n          </el-form-item>\n        </el-form>\n        <div class=\"le-cardpin\">\n          <el-button\n            type=\"primary\"\n            disabled={self.disabled}\n            loading={self.loading && !self.disabled}\n            onClick={self.submit}>\n            保存\n          </el-button>\n        </div>\n      </div>\n    );\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.le-card {\n  margin-top: 24px;\n  padding-top: 40px;\n}\n.le-input--240 {\n  width: 240px;\n}\n.le-input--600 {\n  width: 600px;\n}\n.le-prompt-text {\n  margin-top: 5px;\n}\n.le-parameter {\n  width: 706px;\n  height: 244px;\n  background: #f3f5f7;\n  border-radius: 4px;\n  padding: 24px 0 0 0;\n  position: relative;\n  margin-bottom: 16px;\n  .le-deletion {\n    height: auto;\n    cursor: pointer;\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 16px;\n    transform: translate(50%, -50%);\n    opacity: 0;\n  }\n  &:hover {\n    .le-deletion {\n      opacity: 1;\n    }\n  }\n}\n/deep/ .le-content.el-form-item.is-error.is-required {\n  .el-input__inner,\n  .el-textarea__inner {\n    border-color: #dcdfe6 !important;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./parameterTemplateEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./parameterTemplateEdit.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./parameterTemplateEdit.vue?vue&type=style&index=0&id=1acb526e&scoped=true&lang=scss&\""],"sourceRoot":""}