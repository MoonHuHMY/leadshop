{"version":3,"sources":["webpack:///./src/pages/promoter/index.vue?0103","webpack:///./src/pages/promoter/index.js","webpack:///./src/pages/promoter/index.vue","webpack:///src/pages/promoter/index.vue","webpack:///./src/pages/promoter/index.vue?a592"],"names":["data","methods","replaceQuery","query","Object","assign","this","$route","form","$router","replace","getQuery","isParseInt","keys","forEach","item","i","length","isNaN","parseInt","emptyStatus","filters","staticRenderFns","mixins","source","level","state","apply_time","join_time","search","page","invite","sort","size","levelList","list","render","mounted","getParseInt","grade","getLevel","getList","routerDetail","push","path","UID","switchPage","number","filter","empty","sortList","keyword","Date","parse","$heshop","component"],"mappings":"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","file":"js/promoter-index.1e9454d4.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6e12445d&lang=less&scoped=true&\"","/*\r\n * @Author: fjt\r\n * @Date: 2021-06-20 11:07:58\r\n * @LastEditors: fjt\r\n * @LastEditTime: 2021-06-20 11:09:29\r\n */\r\nexport default {\r\n  data() {},\r\n  methods: {\r\n    //   路由参数替换\r\n    replaceQuery: function () {\r\n      let query = Object.assign({}, this.$route.query, this.form);\r\n      this.$router.replace({\r\n        query: query\r\n      });\r\n    },\r\n    getQuery(isParseInt = ['page']) {\r\n      let query = this.$route.query;\r\n      Object.keys(query).forEach(item => {\r\n        for (let i = 0; i < isParseInt.length; i++) {\r\n          if (isParseInt[i] === item) {\r\n            if (!isNaN(query[item])) {\r\n              query[item] = parseInt(query[item]);\r\n            } else {\r\n              query[item] = 1;\r\n            }\r\n          }\r\n        }\r\n      });\r\n      return Object.assign(this.form, query);\r\n    },\r\n    emptyStatus() {\r\n      this.$router.replace({\r\n        query: {}\r\n      });\r\n    }\r\n  },\r\n  filters: {}\r\n};\r\n","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6e12445d&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e12445d\",\n  null\n  \n)\n\nexport default component.exports","<!--\r\n * @Description: 分销列表\r\n * @Author: fjt\r\n * @Date: 2021-06-08 17:32:10\r\n * @LastEditTime: 2021-06-20 11:09:20\r\n * @LastEditors: fjt\r\n-->\r\n<script>\r\nimport index from './index.js';\r\n\r\nexport default {\r\n  mixins: [index],\r\n  data() {\r\n    return {\r\n      form: {\r\n        source: '',\r\n        level: 0,\r\n        state: 1,\r\n        apply_time: [],\r\n        join_time: [],\r\n        search: '',\r\n        page: 1,\r\n        invite: '',\r\n        sort: {\r\n          apply_time: 'DESC'\r\n        }\r\n      },\r\n      page: {\r\n        size: 20\r\n      },\r\n      levelList: [],\r\n      list: []\r\n    };\r\n  },\r\n  render() {\r\n    let self = this;\r\n    return (\r\n      <div class=\"le-main\">\r\n        <el-button type=\"primary\">添加分销商</el-button>\r\n        <el-form props={{ model: self.form }} class=\"le-card\" inline={true} label-width=\"125px\">\r\n          <el-form-item label=\"分销商搜索\">\r\n            <el-input\r\n              v-model={self.form.search}\r\n              value={self.form.search}\r\n              onInput={e => {\r\n                self.form.search = e;\r\n              }}\r\n              placeholder=\"输入ID/昵称/姓名/手机号搜索\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"邀请方搜索\">\r\n            <el-input\r\n              value={self.form.invite}\r\n              onInput={e => {\r\n                self.form.invite = e;\r\n              }}\r\n              placeholder=\"输入昵称搜索\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"分销商等级\">\r\n            <el-select placeholder=\"请选择\" v-model={self.form.level}>\r\n              <el-option label=\"全部\" value={0} />\r\n              {self.levelList.map((v, k) => {\r\n                return <el-option key={k} label={v.name} value={v.level} />;\r\n              })}\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"用户来源\">\r\n            <el-select placeholder=\"请选择\" v-model={self.form.source}>\r\n              <el-option label=\"全部\" value={''} />\r\n              <el-option label=\"微信小程序\" value={'weapp'} />\r\n              <el-option label=\"公众号\" value={'wechat'} />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"状态\">\r\n            <el-select placeholder=\"请选择\" v-model={self.form.state}>\r\n              <el-option label=\"全部\" value={1} />\r\n              <el-option label=\"待审核\" value={2} />\r\n              <el-option label=\"已通过\" value={3} />\r\n              <el-option label=\"已拒绝\" value={4} />\r\n              <el-option label=\"已清退\" value={5} />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"申请时间\">\r\n            <el-date-picker\r\n              size=\"small\"\r\n              v-model={self.form.apply_time}\r\n              type=\"datetimerange\"\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"加入时间\">\r\n            <el-date-picker\r\n              size=\"small\"\r\n              v-model={self.form.join_time}\r\n              type=\"datetimerange\"\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n            />\r\n          </el-form-item>\r\n          <div class=\"le-button\">\r\n            <el-button type=\"primary\" onClick={self.filter}>\r\n              筛选\r\n            </el-button>\r\n            <el-button onClick={self.empty}>清空</el-button>\r\n          </div>\r\n        </el-form>\r\n        <div class=\"le-card le-table\">\r\n          <el-table\r\n            height=\"650\"\r\n            {...{\r\n              on: {\r\n                'sort-change': self.sortList\r\n              }\r\n            }}\r\n            props={{ data: this.list }}\r\n            default-sort={{ prop: 'apply_time', order: 'descending' }}\r\n            row-class-name=\"le-table-row\">\r\n            <el-table-column\r\n              label=\"基本信息\"\r\n              width=\"288px\"\r\n              fixed=\"left\"\r\n              scopedSlots={{\r\n                default: scope => {\r\n                  return (\r\n                    <div slot-scope=\"scope\" class=\"flex\">\r\n                      <div>\r\n                        <el-avatar size={48} error={() => true}>\r\n                          <img src={scope.row.avatar} />\r\n                        </el-avatar>\r\n                      </div>\r\n                      <div class=\"le-usercontent\">\r\n                        <div class=\"le-user\">\r\n                          <i class={`le-icon le-icon-${scope.row.type == 'weapp' ? 'xiaochengxu' : 'wehcat'}`} />\r\n                          <span class=\"le-username\">{scope.row.nickname}</span>\r\n                        </div>\r\n                        <div class=\"le-userinfor\">\r\n                          ID:{scope.row.UID}\r\n                          <br />\r\n                          {scope.row.realname}\r\n                          <br />\r\n                          {scope.row.mobile}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                }\r\n              }}\r\n            />\r\n            <el-table-column\r\n              label=\"分销商等级\"\r\n              scopedSlots={{\r\n                default: scope => {\r\n                  return scope.row.level_name;\r\n                }\r\n              }}\r\n            />\r\n            <el-table-column\r\n              label=\"邀请方\"\r\n              scopedSlots={{\r\n                default: scope => {\r\n                  return scope.row.invite_nickname ? scope.row.invite_nickname : '--';\r\n                }\r\n              }}\r\n            />\r\n            <el-table-column\r\n              label=\"累计销售金额(元)\"\r\n              sortable=\"custom\"\r\n              min-width=\"140px\"\r\n              prop=\"sales_amount\"\r\n              scopedSlots={{\r\n                default: scope => {\r\n                  return scope.row.status === 2 ? scope.row.sales_amount : '--';\r\n                }\r\n              }}\r\n            />\r\n            <el-table-column\r\n              label=\"累计佣金(元)\"\r\n              sortable=\"custom\"\r\n              prop=\"commission_amount\"\r\n              min-width=\"120px\"\r\n              scopedSlots={{\r\n                default: scope => {\r\n                  return scope.row.status === 2 ? scope.row.all_commission_amount : '--';\r\n                }\r\n              }}\r\n            />\r\n            <el-table-column\r\n              label=\"当前下线数\"\r\n              prop=\"all_children\"\r\n              sortable=\"custom\"\r\n              min-width=\"120px\"\r\n              scopedSlots={{\r\n                default: scope => {\r\n                  return scope.row.status === 2 ? scope.row.all_children : '--';\r\n                }\r\n              }}\r\n            />\r\n\r\n            <el-table-column\r\n              label=\"累计邀请分销商\"\r\n              sortable=\"custom\"\r\n              prop=\"invite_number\"\r\n              min-width=\"130px\"\r\n              scopedSlots={{\r\n                default: scope => {\r\n                  return scope.row.status === 2 ? scope.row.invite_number : '--';\r\n                }\r\n              }}\r\n            />\r\n\r\n            <el-table-column\r\n              label=\"状态\"\r\n              min-width=\"100px\"\r\n              scopedSlots={{\r\n                default: scope => {\r\n                  let status = scope.row.status;\r\n                  return (\r\n                    <el-tag\r\n                      effect=\"plain\"\r\n                      size=\"medium\"\r\n                      type={\r\n                        status === 2\r\n                          ? 'success'\r\n                          : status === 1\r\n                          ? 'warning'\r\n                          : status === 3\r\n                          ? 'danger'\r\n                          : status === 4\r\n                          ? 'info'\r\n                          : ''\r\n                      }>\r\n                      {status === 2\r\n                        ? '已通过'\r\n                        : status === 1\r\n                        ? '待审核'\r\n                        : status === 3\r\n                        ? '已拒绝'\r\n                        : status === 4\r\n                        ? '已清退'\r\n                        : ''}\r\n                    </el-tag>\r\n                  );\r\n                }\r\n              }}\r\n            />\r\n            <el-table-column\r\n              label=\"时间\"\r\n              sortable=\"custom\"\r\n              prop=\"apply_time\"\r\n              min-width=\"180px\"\r\n              scopedSlots={{\r\n                default: scope => {\r\n                  let apply_time = scope.row.apply_time\r\n                    ? self.$moment(new Date(scope.row.apply_time * 1000)).format('Y-MM-DD HH:mm:ss')\r\n                    : '--';\r\n                  let join_time = scope.row.join_time\r\n                    ? self.$moment(new Date(scope.row.join_time * 1000)).format('Y-MM-DD HH:mm:ss')\r\n                    : '--';\r\n                  return (\r\n                    <span>\r\n                      申请：{apply_time}\r\n                      <br />\r\n                      加入：{join_time}\r\n                    </span>\r\n                  );\r\n                }\r\n              }}\r\n            />\r\n            <el-table-column\r\n              label=\"操作\"\r\n              min-width=\"220px\"\r\n              scopedSlots={{\r\n                default: scope => {\r\n                  return (\r\n                    <div class=\"le-table-operate flex align-center\">\r\n                      <el-button type=\"text\" onClick={self.routerDetail.bind(self, scope.row.UID)}>\r\n                        详情\r\n                      </el-button>\r\n                      {(() => {\r\n                        if (scope.row.status === 2) {\r\n                          return [[<span class=\"le-line\" />], [<el-button type=\"text\">清退</el-button>]];\r\n                        } else if (scope.row.status === 1) {\r\n                          return [\r\n                            [<span class=\"le-line\" />],\r\n                            [<el-button type=\"text\">通过</el-button>],\r\n                            [<span class=\"le-line\" />],\r\n                            [<el-button type=\"text\">拒绝</el-button>]\r\n                          ];\r\n                        }\r\n                      })()}\r\n                    </div>\r\n                  );\r\n                }\r\n              }}\r\n            />\r\n          </el-table>\r\n          <div class=\"flex le-pagination justify-end\">\r\n            <el-pagination\r\n              background={true}\r\n              current-page={self.form.page}\r\n              layout=\"prev, pager, next, jumper\"\r\n              on-current-change={self.switchPage}\r\n              page-count={self.page.count}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  },\r\n  mounted() {\r\n    this.form = Object.assign({}, this.form, this.$route.query);\r\n    this.form.page = this.getParseInt(this.form.page);\r\n    this.form.state = this.getParseInt(this.form.state);\r\n    this.form.grade = this.getParseInt(this.form.grade);\r\n\r\n    this.getLevel();\r\n    this.getList();\r\n  },\r\n  methods: {\r\n    routerDetail: function (UID) {\r\n      this.$router.push({\r\n        path: '/promoter/index-detail?id=' + UID\r\n      });\r\n    },\r\n    // 列表分页切换\r\n    switchPage: function (number) {\r\n      this.form.page = number;\r\n      this.replaceQuery();\r\n      this.getList();\r\n    },\r\n    // 筛选\r\n    filter: function () {\r\n      this.getList();\r\n      this.replaceQuery();\r\n    },\r\n    empty: function () {\r\n      this.form = {\r\n        source: '',\r\n        grade: 0,\r\n        state: 1,\r\n        apply_time: [],\r\n        join_time: [],\r\n        search: '',\r\n        page: 1,\r\n        invite: '',\r\n        sort: this.form.sort\r\n      };\r\n      this.filter();\r\n    },\r\n    //   字符串转数字\r\n    getParseInt: function (data) {\r\n      if (!isNaN(data)) {\r\n        return parseInt(data);\r\n      }\r\n      return 0;\r\n    },\r\n    // 列表排序\r\n    sortList: function (e) {\r\n      this.form.sort = {\r\n        [e.prop]: e.order == 'descending' ? 'DESC' : 'ASC'\r\n      };\r\n      this.getList();\r\n      this.replaceQuery();\r\n    },\r\n    //  获取列表\r\n    getList: function () {\r\n      let keyword = JSON.parse(JSON.stringify(this.form));\r\n      keyword['apply_time_start'] = keyword.apply_time[0] ? Date.parse(keyword.apply_time[0]) / 1000 : 0;\r\n      keyword['apply_time_end'] = keyword.apply_time[1] ? Date.parse(keyword.apply_time[1]) / 1000 : 0;\r\n      keyword['join_time_start'] = keyword.join_time[0] ? Date.parse(keyword.join_time[0]) / 1000 : 0;\r\n      keyword['join_time_end'] = keyword.join_time[1] ? Date.parse(keyword.join_time[1]) / 1000 : 0;\r\n      this.$heshop\r\n        .search('post', { include: 'promoter' }, { keyword })\r\n        .page(this.form.page, this.page.size)\r\n        .then(res => {\r\n          let { data, headers } = res;\r\n          this.list = data;\r\n          this.form.page = +headers['x-pagination-current-page'];\r\n          this.page = {\r\n            count: +headers['x-pagination-page-count'],\r\n            size: +headers['x-pagination-per-page'],\r\n            total: +headers['x-pagination-total-count']\r\n          };\r\n        })\r\n        .catch(err => {\r\n          this.$message.error(err.data.message);\r\n        });\r\n    },\r\n    getLevel: function () {\r\n      this.$heshop\r\n        .promoterlevel('get')\r\n        .then(res => {\r\n          this.levelList = res;\r\n        })\r\n        .catch(err => {\r\n          this.$message.error(err.data.message);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped=\"\">\r\n@import './index.less';\r\n\r\n.le-card {\r\n  margin-top: 24px;\r\n}\r\n\r\n.le-button {\r\n  margin-left: 125px;\r\n}\r\n\r\n.le-table ::v-deep {\r\n  .le-table-row:extend(.font-family-yahei) {\r\n    height: 120px;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: #262626;\r\n  }\r\n\r\n  .le-avatar {\r\n    display: block;\r\n    //overflow: none;\r\n  }\r\n\r\n  .le-usercontent {\r\n    padding-left: 12px;\r\n\r\n    .le-user {\r\n      margin-bottom: 8px;\r\n    }\r\n  }\r\n\r\n  .le-username:extend(.font-family-yahei) {\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: #262626;\r\n    margin-left: 8px;\r\n  }\r\n\r\n  .le-userinfor:extend(.font-family-yahei) {\r\n    width: 156px;\r\n    background: #f3f5f7;\r\n    border-radius: 4px;\r\n    padding: 8px;\r\n    font-size: 12px;\r\n    font-weight: 400;\r\n    color: #595959;\r\n    line-height: 16px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\""],"sourceRoot":""}