{"version":3,"sources":["webpack:///./src/pages/promoter/level-editor.vue?3e58","webpack:///./src/pages/promoter/level-editor.vue","webpack:///src/pages/promoter/level-editor.vue","webpack:///./src/pages/promoter/level-editor.vue?43f8"],"names":["staticRenderFns","name","data","value","callback","form","level","first","second","third","update_type","automatic","condition","all_children","checked","num","total_bonus","total_money","rules","loading","mounted","methods","routerBack","this","$router","back","submit","$refs","validate","valid","selectionLevel","index","render","component"],"mappings":"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","file":"js/promoter-level-editor.e441e62c.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./level-editor.vue?vue&type=style&index=0&id=0fb7b334&scoped=true&lang=less&\"","var render, staticRenderFns\nimport script from \"./level-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./level-editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./level-editor.vue?vue&type=style&index=0&id=0fb7b334&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fb7b334\",\n  null\n  \n)\n\nexport default component.exports","<script>\r\nexport default {\r\n  name: 'level-editor',\r\n  data() {\r\n    const checkFirst = (rule, value, callback) => {\r\n      if (value < this.form.second || value < this.form.third) {\r\n        callback('一级分销佣金需大于二级分销佣金和三级分销佣金');\r\n      }\r\n      callback();\r\n    };\r\n\r\n    const checkSecond = (rule, value, callback) => {\r\n      if (value < this.form.third) {\r\n        callback('二级分销佣金需大于三级分销佣金');\r\n      }\r\n      callback();\r\n    };\r\n\r\n    const checkThird = (rule, value, callback) => {\r\n      if (value < this.form.first) {\r\n        callback('三分销佣金需大于【默认一级】的一级分销佣金0.1%');\r\n      }\r\n      callback();\r\n    };\r\n\r\n    return {\r\n      form: {\r\n        name: '',\r\n        level: null,\r\n        first: '',\r\n        second: '',\r\n        third: '',\r\n        update_type: 1,\r\n        automatic: 1,\r\n        condition: {\r\n          all_children: {\r\n            checked: false,\r\n            num: null\r\n          },\r\n          total_bonus: {\r\n            checked: false,\r\n            num: null\r\n          },\r\n          total_money: {\r\n            checked: false,\r\n            num: null\r\n          }\r\n        }\r\n      },\r\n      rules: {\r\n        level: [\r\n          {\r\n            required: true\r\n          }\r\n        ],\r\n        name: [\r\n          {\r\n            required: true,\r\n            message: '请输入等级名称'\r\n          }\r\n        ],\r\n        first: [\r\n          {\r\n            required: true,\r\n            validator: checkFirst,\r\n            trigger: ['blur']\r\n          }\r\n        ],\r\n        second: [\r\n          {\r\n            required: true,\r\n            validator: checkSecond,\r\n            trigger: ['blur']\r\n          }\r\n        ],\r\n        third: [\r\n          {\r\n            required: true,\r\n            validator: checkThird,\r\n            trigger: ['blur']\r\n          }\r\n        ]\r\n      },\r\n      loading: false\r\n    };\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    routerBack() {\r\n      this.$router.back(-1);\r\n    },\r\n    // 保存\r\n    submit() {\r\n      this.$refs['form'].validate(valid => {\r\n        if (valid) {\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n      this.loading = true;\r\n    },\r\n    // 选择等级\r\n    selectionLevel(index) {\r\n      this.form.level = index;\r\n      if (index === 0) {\r\n        this.form.automatic = 0;\r\n        return;\r\n      }\r\n      this.form.automatic = 1;\r\n    }\r\n  },\r\n  render() {\r\n    const self = this;\r\n    const levelSelection = [\r\n      {\r\n        label: '默认一级'\r\n      },\r\n      {\r\n        label: '二级'\r\n      },\r\n      {\r\n        label: '三级'\r\n      },\r\n      {\r\n        label: '四级'\r\n      },\r\n      {\r\n        label: '五级'\r\n      },\r\n      {\r\n        label: '六级'\r\n      },\r\n      {\r\n        label: '七级'\r\n      },\r\n      {\r\n        label: '八级'\r\n      },\r\n      {\r\n        label: '九级'\r\n      },\r\n      {\r\n        label: '十级'\r\n      }\r\n    ];\r\n    return (\r\n      <div class=\"le-main\">\r\n        <el-breadcrumb>\r\n          <el-breadcrumb-item>\r\n            <a onClick={this.routerBack}>分销等级</a>\r\n          </el-breadcrumb-item>\r\n          <el-breadcrumb-item>添加分销商等级</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <el-form\r\n          label-width=\"193px\"\r\n          v-loading={self.loading}\r\n          ref=\"form\"\r\n          props={{ model: self.form, rules: self.rules }}>\r\n          <div class=\"le-card le-card-margin\">\r\n            <div class=\"le-card-head flex align-center\">\r\n              <span class=\"le-card-line\" />\r\n              <span>基本信息</span>\r\n            </div>\r\n            <div class=\"le-card-body\">\r\n              <el-form-item label=\"选择等级\" prop=\"level\">\r\n                <div class=\"flex flex-wrap le-level--box\">\r\n                  {levelSelection.map((item, index) => {\r\n                    return (\r\n                      <div\r\n                        onClick={self.selectionLevel.bind(self, index)}\r\n                        class={{\r\n                          active: index === self.form.level,\r\n                          'le-level--selection': true\r\n                        }}\r\n                        key={index}>\r\n                        {item.label}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </el-form-item>\r\n              <el-form-item label=\"等级名称\" prop=\"name\">\r\n                <el-input\r\n                  class=\"le-small--input\"\r\n                  placeholder=\"请输入等级名称\"\r\n                  v-model={self.form.name}\r\n                  maxlength=\"8\"\r\n                  show-word-limit={true}\r\n                />\r\n              </el-form-item>\r\n            </div>\r\n          </div>\r\n          <div class=\"le-card le-card-margin\">\r\n            <div class=\"le-card-head flex align-center\">\r\n              <span class=\"le-card-line\" />\r\n              <span>等级佣金</span>\r\n            </div>\r\n            <div class=\"le-card-body\">\r\n              <el-form-item label=\"一级分销佣金\" prop=\"first\">\r\n                <el-input class=\"le-small--input\" v-model={self.form.first}>\r\n                  <template slot=\"append\">%</template>\r\n                </el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"二级分销佣金\" prop=\"second\">\r\n                <el-input class=\"le-small--input\" v-model={self.form.second}>\r\n                  <template slot=\"append\">%</template>\r\n                </el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"三级分销佣金\" prop=\"third\">\r\n                <el-input class=\"le-small--input\" v-model={self.form.third}>\r\n                  <template slot=\"append\">%</template>\r\n                </el-input>\r\n              </el-form-item>\r\n            </div>\r\n          </div>\r\n          <div class=\"le-card le-card-margin\">\r\n            <div class=\"le-card-head flex align-center\">\r\n              <span class=\"le-card-line\" />\r\n              <span>等级升级</span>\r\n            </div>\r\n            <div class=\"le-card-body\">\r\n              <el-form-item label=\"自动升级\">\r\n                <el-radio-group v-model={self.form.automatic} disabled={self.form.level === 0}>\r\n                  <el-radio label={1}>允许自动升级</el-radio>\r\n                  <el-radio label={0}>禁止自动升级</el-radio>\r\n                </el-radio-group>\r\n                <div class=\"le-prompt-text\">选择允许自动升级后，将在用户的等级中心显示等级的升级条件和佣金比例</div>\r\n              </el-form-item>\r\n              {(() => {\r\n                if (self.form.level !== 0) {\r\n                  return (\r\n                    <el-form-item label=\"升级条件\">\r\n                      <el-radio-group v-model={self.form.update_type}>\r\n                        <el-radio label={1}>满足以下任意条件</el-radio>\r\n                        <el-radio label={2}>满足以下全部条件</el-radio>\r\n                      </el-radio-group>\r\n                      <div>\r\n                        <el-checkbox class=\"le-condition--item\" v-model={self.form.condition.total_bonus.checked}>\r\n                          <div class=\"flex align-center\">\r\n                            <span class=\"le-label\">累计佣金</span>\r\n                            <el-input\r\n                              v-model={self.form.condition.total_bonus.num}\r\n                              disabled={!self.form.condition.total_bonus.checked}>\r\n                              <template slot=\"append\">元</template>\r\n                            </el-input>\r\n                          </div>\r\n                        </el-checkbox>\r\n                        <el-checkbox class=\"le-condition--item\" v-model={self.form.condition.all_children.checked}>\r\n                          <div class=\"flex align-center\">\r\n                            <span class=\"le-label\">当前下线数</span>\r\n                            <el-input\r\n                              v-model={self.form.condition.all_children.num}\r\n                              disabled={!self.form.condition.all_children.checked}>\r\n                              <template slot=\"append\">人</template>\r\n                            </el-input>\r\n                          </div>\r\n                        </el-checkbox>\r\n                        <el-checkbox class=\"le-condition--item\" v-model={self.form.condition.total_money.checked}>\r\n                          <div class=\"flex align-center\">\r\n                            <span class=\"le-label\">累计销售金额</span>\r\n                            <el-input\r\n                              v-model={self.form.condition.total_money.num}\r\n                              disabled={!self.form.condition.total_money.checked}>\r\n                              <template slot=\"append\">元</template>\r\n                            </el-input>\r\n                          </div>\r\n                        </el-checkbox>\r\n                      </div>\r\n                    </el-form-item>\r\n                  );\r\n                }\r\n              })()}\r\n            </div>\r\n          </div>\r\n        </el-form>\r\n        <div class=\"le-cardpin\">\r\n          <el-button type=\"primary\" loading={self.loading} onClick={self.submit}>\r\n            保存\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import './index.less';\r\n\r\n.le-level--box {\r\n  width: 450px;\r\n}\r\n.le-level--selection:extend(.font-family-yahei) {\r\n  width: 80px;\r\n  height: 32px;\r\n  line-height: 30px;\r\n  text-align: center;\r\n  background: #ffffff;\r\n  border: 1px solid #dcdfe6;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  color: #595959;\r\n  margin: 0 8px 8px 0;\r\n  &.active {\r\n    background-color: #623ceb;\r\n    color: #ffffff;\r\n  }\r\n}\r\n.le-small--input {\r\n  width: 240px;\r\n  ::v-deep.el-input-group__append {\r\n    padding: 0 17px;\r\n  }\r\n}\r\n.le-condition--item {\r\n  display: block;\r\n  margin-top: 15px;\r\n  .le-label {\r\n    color: #595959 !important;\r\n    margin-right: 15px;\r\n  }\r\n  .el-input {\r\n    width: 200px;\r\n    ::v-deep.el-input-group__append {\r\n      padding: 0 17px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./level-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./level-editor.vue?vue&type=script&lang=js&\""],"sourceRoot":""}