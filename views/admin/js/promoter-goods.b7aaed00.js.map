{"version":3,"sources":["webpack:///./src/pages/promoter/helpers.js","webpack:///./src/pages/promoter/api.js","webpack:///./src/pages/promoter/components/goods-table.vue","webpack:///./src/pages/promoter/goods.vue","webpack:///src/pages/promoter/components/goods-table.vue","webpack:///./src/pages/promoter/components/goods-table.vue?4233","webpack:///src/pages/promoter/goods.vue","webpack:///./src/pages/promoter/goods.vue?f137","webpack:///./src/pages/promoter/index.js","webpack:///./src/pages/promoter/goods.vue?798c","webpack:///./src/pages/promoter/components/goods-table.vue?15ea"],"names":["PAGE_HEADERS","transformPageHeaders","response","Object","keys","headers","forEach","item","toUpperCase","pagination","current","pageCount","totalCount","key","map","parseInt","service","Vue","prototype","$heshop","$message","goodsList","tabKey","page","Promise","resolve","search","include","keyword","tab_key","then","data","catch","error","message","financeList","finance","promoterOrderList","promoterLevelList","promoterlevel","promotermaterialList","promotermaterial","createPromotermaterial","body","promoterzoneList","promoterzone","createPromoterzone","saveCommissionSetting","content","reject","setting","getCommissionSetting","getPromoterSetting","savePromoterSetting","getPromoterRank","savePromoterRank","saveRecruitMake","getRecruitMake","staticRenderFns","name","mixins","form","list","mounted","methods","switchPage","this","number","replaceQuery","filter","render","component","components","GoodsTable","grade","price_start","price_end","time","sort","created_time","tabSwitch","query","assign","$route","$router","replace","getQuery","isParseInt","i","length","isNaN","emptyStatus","filters"],"mappings":"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","file":"js/promoter-goods.b7aaed00.js","sourcesContent":["const PAGE_HEADERS = [\r\n  'X-PAGINATION-TOTAL-COUNT',\r\n  'X-PAGINATION-PER-PAGE',\r\n  'X-PAGINATION-PAGE-COUNT',\r\n  'X-PAGINATION-CURRENT-PAGE'\r\n];\r\n\r\nexport function transformPageHeaders(response) {\r\n  Object.keys(response.headers).forEach(item => {\r\n    response.headers[item.toUpperCase()] = response.headers[item];\r\n    delete response.headers[item];\r\n  });\r\n  const pagination = {\r\n    current: 1,\r\n    pageCount: 1,\r\n    totalCount: 1\r\n  };\r\n  PAGE_HEADERS.forEach(key => {\r\n    Object.keys(response.headers).map(item => {\r\n      if (key === item) {\r\n        response.headers[item] = parseInt(response.headers[item]);\r\n      }\r\n    });\r\n  });\r\n  pagination.current = response.headers['X-PAGINATION-CURRENT-PAGE'];\r\n  pagination.pageCount = response.headers['X-PAGINATION-PAGE-COUNT'];\r\n  pagination.totalCount = response.headers['X-PAGINATION-TOTAL-COUNT'];\r\n  response.pagination = pagination;\r\n}\r\n","import Vue from 'vue';\r\nconst service = Vue.prototype.$heshop;\r\nconst $message = Vue.prototype.$message;\r\nimport { transformPageHeaders } from './helpers.js';\r\n\r\n// 商品列表\r\nexport function goodsList({ tabKey = 'all', page = 1 }) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .search(\r\n        'post',\r\n        {\r\n          include: 'goods'\r\n        },\r\n        {\r\n          keyword: {\r\n            tab_key: tabKey\r\n          }\r\n        }\r\n      )\r\n      .page(page, 10)\r\n      .then(response => {\r\n        transformPageHeaders(response);\r\n        const { data, pagination } = response;\r\n        resolve({\r\n          data: data,\r\n          pagination\r\n        });\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 提现管理列表\r\nexport function financeList(page = 1) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .finance('get')\r\n      .page(page, 10)\r\n      .then(response => {\r\n        transformPageHeaders(response);\r\n        const { data, pagination } = response;\r\n        resolve({\r\n          data: data,\r\n          pagination: pagination\r\n        });\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 分销订单\r\nexport function promoterOrderList(page = 1, keyword = {}) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .search(\r\n        'post',\r\n        {\r\n          include: 'promoterorder'\r\n        },\r\n        keyword\r\n      )\r\n      .page(page, 10)\r\n      .then(response => {\r\n        transformPageHeaders(response);\r\n        const { data, pagination } = response;\r\n        resolve({\r\n          data: data,\r\n          pagination: pagination\r\n        });\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 分销等级列表\r\nexport function promoterLevelList() {\r\n  return new Promise(resolve => {\r\n    service\r\n      .promoterlevel('get')\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 素材中心列表\r\nexport function promotermaterialList(page = 1) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .promotermaterial('get')\r\n      .page(page, 10)\r\n      .then(response => {\r\n        transformPageHeaders(response);\r\n        const { data, pagination } = response;\r\n        resolve({\r\n          data: data,\r\n          pagination: pagination\r\n        });\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 添加素材\r\nexport function createPromotermaterial(body = {}) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .promotermaterial('post', body)\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 空间动态列表\r\nexport function promoterzoneList(page = 1, keyword = {}) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .promoterzone('get', keyword)\r\n      .page(page, 10)\r\n      .then(response => {\r\n        transformPageHeaders(response);\r\n        const { data, pagination } = response;\r\n        resolve({\r\n          data: data,\r\n          pagination: pagination\r\n        });\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 创建空间动态\r\nexport function createPromoterzone(body) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .promoterzone('post', body)\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 保存结算设置\r\nexport function saveCommissionSetting(content = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .setting('post', {\r\n        keyword: 'commission_setting',\r\n        content: content\r\n      })\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n// 获取结算设置\r\nexport function getCommissionSetting() {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .search(\r\n        'post',\r\n        { include: 'setting' },\r\n        {\r\n          keyword: 'commission_setting'\r\n        }\r\n      )\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n        reject();\r\n      });\r\n  });\r\n}\r\n\r\n// 获取分销设置\r\nexport function getPromoterSetting() {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .search(\r\n        'post',\r\n        { include: 'setting' },\r\n        {\r\n          keyword: 'promoter_setting'\r\n        }\r\n      )\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n        reject();\r\n      });\r\n  });\r\n}\r\n\r\n// 保存分销设置\r\nexport function savePromoterSetting(content = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .setting('post', {\r\n        keyword: 'promoter_setting',\r\n        content: content\r\n      })\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n// 获取排行榜设置\r\nexport function getPromoterRank() {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .search(\r\n        'post',\r\n        { include: 'setting' },\r\n        {\r\n          keyword: 'promoter_rank'\r\n        }\r\n      )\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n        reject();\r\n      });\r\n  });\r\n}\r\n\r\n// 保存排行榜设置\r\nexport function savePromoterRank(content = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .setting('post', {\r\n        keyword: 'promoter_rank',\r\n        content: content\r\n      })\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n// 设置招募令\r\nexport function saveRecruitMake(content = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .setting('post', {\r\n        keyword: 'promoter_recruit_make',\r\n        content: content\r\n      })\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n// 获取招募令设置\r\nexport function getRecruitMake() {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .search(\r\n        'post',\r\n        { include: 'setting' },\r\n        {\r\n          keyword: 'promoter_recruit_make'\r\n        }\r\n      )\r\n      .then(response => {\r\n        resolve(response.content);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n        reject();\r\n      });\r\n  });\r\n}\r\n","var render, staticRenderFns\nimport script from \"./goods-table.vue?vue&type=script&lang=js&\"\nexport * from \"./goods-table.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods-table.vue?vue&type=style&index=0&id=1efe6f63&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1efe6f63\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&id=115f5efc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"115f5efc\",\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport { goodsList } from './../api.js';\r\nimport index from './../index.js';\r\n\r\nexport default {\r\n  name: 'goods-table',\r\n  mixins: [index],\r\n  data() {\r\n    return {\r\n      form: {\r\n        page: 1\r\n      },\r\n      list: []\r\n    };\r\n  },\r\n  mounted() {\r\n    goodsList({ tabKey: this.$parent.paneName, page: 1 }).then(response => {\r\n      this.list = response.data;\r\n    });\r\n  },\r\n  methods: {\r\n    switchPage(number) {\r\n      this.form.page = number;\r\n      this.replaceQuery();\r\n    },\r\n    filter() {}\r\n  },\r\n  render() {\r\n    const self = this;\r\n    return (\r\n      <div class=\"le-main\">\r\n        <div class=\"le-table-head\">\r\n          <el-checkbox>当页全选</el-checkbox>\r\n          <el-checkbox>全选所有页</el-checkbox>\r\n          <el-button>参与</el-button>\r\n          <el-button>不参与</el-button>\r\n        </div>\r\n        <el-table data={self.list} class=\"le-table\" row-class-name=\"le-table-row\">\r\n          <el-table-column type=\"selection\" width=\"55\" />\r\n          <el-table-column\r\n            label=\"商品描述\"\r\n            min-width=\"274px\"\r\n            scopedSlots={{\r\n              default(scope) {\r\n                return (\r\n                  <div class=\"flex\">\r\n                    <el-image class=\"le-goods-image\" lazy={true} src={scope.row.slideshow[0]} />\r\n                    <div class=\"flex-sub le-goods-info\">\r\n                      <div class=\"le-goods-name\">{scope.row.name}</div>\r\n                      <div class=\"le-goods-parameter\">\r\n                        {(() => {\r\n                          if (scope.row.goods_sn) {\r\n                            return [[`货号:${scope.row.goods_sn}`], [<br />]];\r\n                          }\r\n                        })()}\r\n                        ID:{scope.row.id}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              }\r\n            }}\r\n          />\r\n          <el-table-column\r\n            label=\"商品价格\"\r\n            prop=\"price\"\r\n            scopedSlots={{\r\n              default(scope) {\r\n                return `￥${scope.row.price}`;\r\n              }\r\n            }}\r\n          />\r\n          <el-table-column label=\"库存\" prop=\"stocks\" />\r\n          <el-table-column label=\"销量\" prop=\"sales\" />\r\n          <el-table-column label=\"创建时间\" prop=\"created_time\" />\r\n          <el-table-column\r\n            label=\"商品状态\"\r\n            prop=\"status\"\r\n            width=\"105px\"\r\n            scopedSlots={{\r\n              default(scope) {\r\n                const is_sale = scope.row.is_sale;\r\n                const stocks = scope.row.stocks;\r\n                if (stocks === 0) {\r\n                  return (\r\n                    <el-tag effect=\"plain\" size=\"medium\" type=\"warning\">\r\n                      售罄\r\n                    </el-tag>\r\n                  );\r\n                } else {\r\n                  return (\r\n                    <el-tag effect=\"plain\" size=\"medium\" type={is_sale === 1 ? 'success' : is_sale === 0 ? 'info' : ''}>\r\n                      {is_sale === 1 ? '销售中' : is_sale === 0 ? '下架中' : ''}\r\n                    </el-tag>\r\n                  );\r\n                }\r\n              }\r\n            }}\r\n          />\r\n          <el-table-column\r\n            label=\"分销状态\"\r\n            scopedSlots={{\r\n              default() {}\r\n            }}\r\n          />\r\n          <el-table-column label=\"成本价状态\" />\r\n          <el-table-column\r\n            label=\"操作\"\r\n            width=\"200px\"\r\n            scopedSlots={{\r\n              default: () => {\r\n                return (\r\n                  <div class=\"le-table-operate flex align-center\">\r\n                    <el-button type=\"text\">编辑</el-button>\r\n                    <span class=\"le-line\" />\r\n                    <el-button type=\"text\">参与</el-button>\r\n                    <span class=\"le-line\" />\r\n                    <el-button type=\"text\">不参与</el-button>\r\n                  </div>\r\n                );\r\n              }\r\n            }}\r\n          />\r\n        </el-table>\r\n        <div class=\"flex le-pagination justify-between\">\r\n          <div>\r\n            <el-button>参与</el-button>\r\n            <el-button>不参与</el-button>\r\n          </div>\r\n          <el-pagination\r\n            background\r\n            current-page={self.form.page}\r\n            layout=\"prev, pager, next, jumper\"\r\n            on-current-change={self.switchPage}\r\n            total={1000}></el-pagination>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import '../index.less';\r\n\r\n.le-table ::v-deep {\r\n  .le-table-row:extend(.font-family-yahei) {\r\n    height: 88px;\r\n    width: 76px;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: #262626;\r\n  }\r\n  .le-goods-image {\r\n    width: 64px;\r\n    height: 64px;\r\n  }\r\n  .le-goods-name:extend(.font-family-yahei) {\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: #262626;\r\n    line-height: 18px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 2;\r\n    line-clamp: 2;\r\n    -webkit-box-orient: vertical;\r\n  }\r\n  .le-goods-info {\r\n    margin-left: 12px;\r\n  }\r\n  .le-goods-parameter:extend(.font-family-yahei) {\r\n    font-size: 12px;\r\n    font-weight: 400;\r\n    color: #8c8c8c;\r\n    line-height: 18px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./goods-table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./goods-table.vue?vue&type=script&lang=js&\"","<!--\r\n * @Description: 分销商品\r\n * @Author: fjt\r\n * @Date: 2021-06-08 17:48:42\r\n * @LastEditTime: 2021-06-08 17:49:09\r\n * @LastEditors: fjt\r\n-->\r\n<script>\r\nimport GoodsTable from './components/goods-table.vue';\r\nimport index from './index.js';\r\n\r\nexport default {\r\n  components: {\r\n    GoodsTable\r\n  },\r\n  mixins: [index],\r\n  data() {\r\n    return {\r\n      form: {\r\n        grade: 1,\r\n        tab_key: 'all',\r\n        search: 1,\r\n        price_start: null,\r\n        price_end: null,\r\n        time: [],\r\n        sort: {\r\n          created_time: 'descending'\r\n        },\r\n        page: 1\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    tabSwitch(component) {\r\n      const { form } = this.$refs[component.name];\r\n      this.form.page = form.page;\r\n      this.replaceQuery();\r\n    },\r\n    // 筛选\r\n    filter() {\r\n      this.replaceQuery();\r\n    }\r\n  },\r\n  render() {\r\n    const self = this;\r\n    return (\r\n      <div class=\"le-main\">\r\n        <el-form class=\"le-card\" inline={true} label-width=\"112px\">\r\n          <el-form-item label=\"商品搜索\">\r\n            <el-input placeholder=\"输入商品名称/货号/ID搜索\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"商品分类\">\r\n            <el-select placeholder=\"请选择\" v-model={self.form.grade}>\r\n              <el-option label=\"全部\" value={1} />\r\n              <el-option label=\"白银\" value={2} />\r\n              <el-option label=\"黄金\" value={3} />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"分销状态\">\r\n            <el-select placeholder=\"请选择\" v-model={self.form.distributionStatus}>\r\n              <el-option label=\"全部\" value={1} />\r\n              <el-option label=\"参与\" value={2} />\r\n              <el-option label=\"不参与\" value={3} />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"成本价状态\">\r\n            <el-select placeholder=\"请选择\" v-model={self.form.distributionStatus}>\r\n              <el-option label=\"全部\" value={1} />\r\n              <el-option label=\"已设置\" value={2} />\r\n              <el-option label=\"未设置\" value={3} />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"商品价格\" class=\"le-price-range\">\r\n            <el-input placeholder=\"最低价格\">\r\n              <template slot=\"append\">元</template>\r\n            </el-input>\r\n            <span class=\"le-range\">至</span>\r\n            <el-input placeholder=\"最高价格\">\r\n              <template slot=\"append\">元</template>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"创建时间\">\r\n            <el-date-picker\r\n              size=\"small\"\r\n              type=\"datetimerange\"\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"></el-date-picker>\r\n          </el-form-item>\r\n          <div class=\"le-button\">\r\n            <el-button type=\"primary\" onClick={self.filter}>\r\n              筛选\r\n            </el-button>\r\n            <el-button>清空</el-button>\r\n          </div>\r\n        </el-form>\r\n        <el-tabs\r\n          class=\"le-tabs\"\r\n          type=\"card\"\r\n          v-model={this.form.tab_key}\r\n          on={{\r\n            'tab-click': this.tabSwitch\r\n          }}>\r\n          {[\r\n            { name: '全部', key: 'all', lazy: false },\r\n            { name: '销售中', key: 'onsale', lazy: false },\r\n            { name: '下架中', key: 'nosale', lazy: false },\r\n            { name: '售罄', key: 'soldout', lazy: false }\r\n          ].map(item => {\r\n            return (\r\n              <el-tab-pane lazy={item.lazy} label={item.name} name={item.key}>\r\n                <goods-table ref={item.key} />\r\n              </el-tab-pane>\r\n            );\r\n          })}\r\n        </el-tabs>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import './index.less';\r\n.le-card {\r\n  margin-bottom: 24px;\r\n  display: block;\r\n}\r\n.le-price-range {\r\n  .le-range:extend(.font-family-yahei) {\r\n    width: 48px;\r\n    display: inline-block;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: #262626;\r\n  }\r\n  .el-input-group--append {\r\n    width: 200px;\r\n  }\r\n}\r\n.le-button {\r\n  margin-left: 115px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./goods.vue?vue&type=script&lang=js&\"","/*\r\n * @Author: fjt\r\n * @Date: 2021-06-20 11:07:58\r\n * @LastEditors: fjt\r\n * @LastEditTime: 2021-06-20 11:09:29\r\n */\r\nexport default {\r\n  data() {},\r\n  methods: {\r\n    //   路由参数替换\r\n    replaceQuery: function () {\r\n      let query = Object.assign({}, this.$route.query, this.form);\r\n      this.$router.replace({\r\n        query: query\r\n      });\r\n    },\r\n    getQuery(isParseInt = ['page']) {\r\n      let query = this.$route.query;\r\n      Object.keys(query).forEach(item => {\r\n        for (let i = 0; i < isParseInt.length; i++) {\r\n          if (isParseInt[i] === item) {\r\n            if (!isNaN(query[item])) {\r\n              query[item] = parseInt(query[item]);\r\n            } else {\r\n              query[item] = 1;\r\n            }\r\n          }\r\n        }\r\n      });\r\n      return Object.assign(this.form, query);\r\n    },\r\n    emptyStatus() {\r\n      this.$router.replace({\r\n        query: {}\r\n      });\r\n    }\r\n  },\r\n  filters: {}\r\n};\r\n","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./goods.vue?vue&type=style&index=0&id=115f5efc&lang=less&scoped=true&\"","export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./goods-table.vue?vue&type=style&index=0&id=1efe6f63&scoped=true&lang=less&\""],"sourceRoot":""}