{"version":3,"sources":["webpack:///./src/pages/promoter/helpers.js","webpack:///./src/pages/promoter/api.js","webpack:///./src/pages/promoter/order.vue?b60a","webpack:///./src/pages/promoter/index.js","webpack:///./src/pages/promoter/order.vue","webpack:///src/pages/promoter/order.vue","webpack:///./src/pages/promoter/order.vue?422d"],"names":["PAGE_HEADERS","transformPageHeaders","response","Object","keys","headers","forEach","item","toUpperCase","pagination","current","pageCount","totalCount","key","map","parseInt","service","Vue","prototype","$heshop","$message","goodsList","tabKey","page","Promise","resolve","search","include","keyword","tab_key","then","data","catch","error","message","financeList","finance","promoterOrderList","promoterLevelList","promoterlevel","promotermaterialList","promotermaterial","createPromotermaterial","body","promoterzoneList","promoterzone","createPromoterzone","saveCommissionSetting","content","reject","setting","getCommissionSetting","getPromoterSetting","savePromoterSetting","getPromoterRank","savePromoterRank","saveRecruitMake","getRecruitMake","methods","replaceQuery","query","assign","this","$route","form","$router","replace","getQuery","isParseInt","i","length","isNaN","emptyStatus","filters","render","staticRenderFns","mixins","search_key","source","status","orderTime","list","filter","empty","switchPage","time_start","slice","time_end","mounted","component"],"mappings":"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","file":"js/promoter-order.148ce829.js","sourcesContent":["const PAGE_HEADERS = [\r\n  'X-PAGINATION-TOTAL-COUNT',\r\n  'X-PAGINATION-PER-PAGE',\r\n  'X-PAGINATION-PAGE-COUNT',\r\n  'X-PAGINATION-CURRENT-PAGE'\r\n];\r\n\r\nexport function transformPageHeaders(response) {\r\n  Object.keys(response.headers).forEach(item => {\r\n    response.headers[item.toUpperCase()] = response.headers[item];\r\n    delete response.headers[item];\r\n  });\r\n  const pagination = {\r\n    current: 1,\r\n    pageCount: 1,\r\n    totalCount: 1\r\n  };\r\n  PAGE_HEADERS.forEach(key => {\r\n    Object.keys(response.headers).map(item => {\r\n      if (key === item) {\r\n        response.headers[item] = parseInt(response.headers[item]);\r\n      }\r\n    });\r\n  });\r\n  pagination.current = response.headers['X-PAGINATION-CURRENT-PAGE'];\r\n  pagination.pageCount = response.headers['X-PAGINATION-PAGE-COUNT'];\r\n  pagination.totalCount = response.headers['X-PAGINATION-TOTAL-COUNT'];\r\n  response.pagination = pagination;\r\n}\r\n","import Vue from 'vue';\r\nconst service = Vue.prototype.$heshop;\r\nconst $message = Vue.prototype.$message;\r\nimport { transformPageHeaders } from './helpers.js';\r\n\r\n// 商品列表\r\nexport function goodsList({ tabKey = 'all', page = 1 }) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .search(\r\n        'post',\r\n        {\r\n          include: 'goods'\r\n        },\r\n        {\r\n          keyword: {\r\n            tab_key: tabKey\r\n          }\r\n        }\r\n      )\r\n      .page(page, 10)\r\n      .then(response => {\r\n        transformPageHeaders(response);\r\n        const { data, pagination } = response;\r\n        resolve({\r\n          data: data,\r\n          pagination\r\n        });\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 提现管理列表\r\nexport function financeList(page = 1) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .finance('get')\r\n      .page(page, 10)\r\n      .then(response => {\r\n        transformPageHeaders(response);\r\n        const { data, pagination } = response;\r\n        resolve({\r\n          data: data,\r\n          pagination: pagination\r\n        });\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 分销订单\r\nexport function promoterOrderList(page = 1, keyword = {}) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .search(\r\n        'post',\r\n        {\r\n          include: 'promoterorder'\r\n        },\r\n        keyword\r\n      )\r\n      .page(page, 10)\r\n      .then(response => {\r\n        transformPageHeaders(response);\r\n        const { data, pagination } = response;\r\n        resolve({\r\n          data: data,\r\n          pagination: pagination\r\n        });\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 分销等级列表\r\nexport function promoterLevelList() {\r\n  return new Promise(resolve => {\r\n    service\r\n      .promoterlevel('get')\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 素材中心列表\r\nexport function promotermaterialList(page = 1) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .promotermaterial('get')\r\n      .page(page, 10)\r\n      .then(response => {\r\n        transformPageHeaders(response);\r\n        const { data, pagination } = response;\r\n        resolve({\r\n          data: data,\r\n          pagination: pagination\r\n        });\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 添加素材\r\nexport function createPromotermaterial(body = {}) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .promotermaterial('post', body)\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 空间动态列表\r\nexport function promoterzoneList(page = 1, keyword = {}) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .promoterzone('get', keyword)\r\n      .page(page, 10)\r\n      .then(response => {\r\n        transformPageHeaders(response);\r\n        const { data, pagination } = response;\r\n        resolve({\r\n          data: data,\r\n          pagination: pagination\r\n        });\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 创建空间动态\r\nexport function createPromoterzone(body) {\r\n  return new Promise(resolve => {\r\n    service\r\n      .promoterzone('post', body)\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n      });\r\n  });\r\n}\r\n\r\n// 保存结算设置\r\nexport function saveCommissionSetting(content = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .setting('post', {\r\n        keyword: 'commission_setting',\r\n        content: content\r\n      })\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n// 获取结算设置\r\nexport function getCommissionSetting() {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .search(\r\n        'post',\r\n        { include: 'setting' },\r\n        {\r\n          keyword: 'commission_setting'\r\n        }\r\n      )\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n        reject();\r\n      });\r\n  });\r\n}\r\n\r\n// 获取分销设置\r\nexport function getPromoterSetting() {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .search(\r\n        'post',\r\n        { include: 'setting' },\r\n        {\r\n          keyword: 'promoter_setting'\r\n        }\r\n      )\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n        reject();\r\n      });\r\n  });\r\n}\r\n\r\n// 保存分销设置\r\nexport function savePromoterSetting(content = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .setting('post', {\r\n        keyword: 'promoter_setting',\r\n        content: content\r\n      })\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n// 获取排行榜设置\r\nexport function getPromoterRank() {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .search(\r\n        'post',\r\n        { include: 'setting' },\r\n        {\r\n          keyword: 'promoter_rank'\r\n        }\r\n      )\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n        reject();\r\n      });\r\n  });\r\n}\r\n\r\n// 保存排行榜设置\r\nexport function savePromoterRank(content = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .setting('post', {\r\n        keyword: 'promoter_rank',\r\n        content: content\r\n      })\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n// 设置招募令\r\nexport function saveRecruitMake(content = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .setting('post', {\r\n        keyword: 'promoter_recruit_make',\r\n        content: content\r\n      })\r\n      .then(response => {\r\n        resolve(response);\r\n      })\r\n      .catch(error => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n// 获取招募令设置\r\nexport function getRecruitMake() {\r\n  return new Promise((resolve, reject) => {\r\n    service\r\n      .search(\r\n        'post',\r\n        { include: 'setting' },\r\n        {\r\n          keyword: 'promoter_recruit_make'\r\n        }\r\n      )\r\n      .then(response => {\r\n        resolve(response.content);\r\n      })\r\n      .catch(error => {\r\n        $message(error.data.message);\r\n        reject();\r\n      });\r\n  });\r\n}\r\n","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=style&index=0&id=583f183c&lang=less&scoped=true&\"","/*\r\n * @Author: fjt\r\n * @Date: 2021-06-20 11:07:58\r\n * @LastEditors: fjt\r\n * @LastEditTime: 2021-06-20 11:09:29\r\n */\r\nexport default {\r\n  data() {},\r\n  methods: {\r\n    //   路由参数替换\r\n    replaceQuery: function () {\r\n      let query = Object.assign({}, this.$route.query, this.form);\r\n      this.$router.replace({\r\n        query: query\r\n      });\r\n    },\r\n    getQuery(isParseInt = ['page']) {\r\n      let query = this.$route.query;\r\n      Object.keys(query).forEach(item => {\r\n        for (let i = 0; i < isParseInt.length; i++) {\r\n          if (isParseInt[i] === item) {\r\n            if (!isNaN(query[item])) {\r\n              query[item] = parseInt(query[item]);\r\n            } else {\r\n              query[item] = 1;\r\n            }\r\n          }\r\n        }\r\n      });\r\n      return Object.assign(this.form, query);\r\n    },\r\n    emptyStatus() {\r\n      this.$router.replace({\r\n        query: {}\r\n      });\r\n    }\r\n  },\r\n  filters: {}\r\n};\r\n","var render, staticRenderFns\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&id=583f183c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"583f183c\",\n  null\n  \n)\n\nexport default component.exports","<!--\r\n * @Description: 分销订单\r\n * @Author: fjt\r\n * @Date: 2021-06-08 17:50:13\r\n * @LastEditTime: 2021-06-08 17:50:45\r\n * @LastEditors: fjt\r\n-->\r\n<script>\r\nimport index from './index.js';\r\nimport { promoterOrderList } from './api.js';\r\n\r\nexport default {\r\n  mixins: [index],\r\n  data() {\r\n    return {\r\n      form: {\r\n        search_key: 'order_sn',\r\n        search: '',\r\n        source: '',\r\n        status: null,\r\n        orderTime: [],\r\n        page: 1\r\n      },\r\n      list: [],\r\n      pagination: {\r\n        pageCount: 1\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    filter() {\r\n      this.replaceQuery();\r\n      this.promoterOrderList();\r\n    },\r\n    empty() {\r\n      this.emptyStatus();\r\n      this.promoterOrderList();\r\n    },\r\n    switchPage(page) {\r\n      this.form.page = page;\r\n      this.replaceQuery();\r\n      this.promoterOrderList();\r\n    },\r\n    promoterOrderList() {\r\n      const form = JSON.parse(JSON.stringify(this.form));\r\n      if (form.orderTime.length > 0) {\r\n        form.time_start = form.orderTime[0] + '';\r\n        form.time_start = form.time_start.slice(0, form.time_start.length - 3);\r\n        form.time_end = form.orderTime[1] + '';\r\n        form.time_end = form.time_end.slice(0, form.time_end.length - 3);\r\n      } else {\r\n        form.time_start = null;\r\n        form.time_end = null;\r\n      }\r\n      delete form.orderTime;\r\n      promoterOrderList(this.form.page, {\r\n        keyword: form\r\n      }).then(response => {\r\n        this.list = response.data;\r\n        this.pagination = response.pagination;\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.form = this.getQuery();\r\n    this.promoterOrderList();\r\n  },\r\n  render() {\r\n    const self = this;\r\n    const search_key = [\r\n      {\r\n        label: '订单号',\r\n        value: 'order_sn'\r\n      },\r\n      {\r\n        label: '商品名称',\r\n        value: 'goods_name'\r\n      },\r\n      {\r\n        label: '买家昵称',\r\n        value: 'buyer_nickname'\r\n      },\r\n      {\r\n        label: '买家手机号',\r\n        value: 'buyer_mobile'\r\n      },\r\n      {\r\n        label: '收货人姓名',\r\n        value: 'consignee_name'\r\n      },\r\n      {\r\n        label: '收货人手机号',\r\n        value: 'consignee_mobile'\r\n      },\r\n      {\r\n        label: '商品货号',\r\n        value: 'goods_sn'\r\n      }\r\n    ];\r\n    const orderSource = [\r\n      {\r\n        label: '全部',\r\n        value: ''\r\n      },\r\n      {\r\n        label: '微信小程序',\r\n        value: 'weapp'\r\n      },\r\n      {\r\n        label: '公众号',\r\n        value: 'wechat'\r\n      }\r\n    ];\r\n    const commissionStatus = [\r\n      {\r\n        label: '全部',\r\n        value: null\r\n      },\r\n      {\r\n        label: '待结算',\r\n        value: '0'\r\n      },\r\n      {\r\n        label: '已结算',\r\n        value: '1'\r\n      }\r\n    ];\r\n    return (\r\n      <div class=\"le-main\">\r\n        <el-form class=\"le-card\" label-width=\"112px\" inline={true}>\r\n          <el-form-item label=\"订单搜索\" class=\"le-order--search\">\r\n            <el-input v-model={self.form.search} placeholder=\"请输入内容\">\r\n              <el-select v-model={self.form.search_key} slot=\"prepend\" placeholder=\"请选择\">\r\n                {search_key.map((item, index) => {\r\n                  return <el-option key={index} label={item.label} value={item.value} />;\r\n                })}\r\n              </el-select>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"订单来源\">\r\n            <el-select v-model={self.form.source} placeholder=\"请选择\">\r\n              {orderSource.map((item, index) => {\r\n                return <el-option key={index} label={item.label} value={item.value} />;\r\n              })}\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"佣金状态\">\r\n            <el-select v-model={self.form.status} placeholder=\"请选择\">\r\n              {commissionStatus.map((item, index) => {\r\n                return <el-option key={index} label={item.label} value={item.value} />;\r\n              })}\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"下单时间\">\r\n            <el-date-picker\r\n              size=\"small\"\r\n              v-model={self.form.orderTime}\r\n              type=\"datetimerange\"\r\n              value-format=\"timestamp\"\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n            />\r\n          </el-form-item>\r\n          <div class=\"le-button\">\r\n            <el-button type=\"primary\" onClick={self.filter}>\r\n              筛选\r\n            </el-button>\r\n            <el-button onClick={self.empty}>清空</el-button>\r\n          </div>\r\n        </el-form>\r\n        <div class=\"le-card\">\r\n          <div class=\"le-table--wrapper\">\r\n            <table class=\"le-table\">\r\n              <thead class=\"le-table--head\">\r\n                <tr>\r\n                  <td>商品描述</td>\r\n                  <td>单价/数量</td>\r\n                  <td>买家/收货人</td>\r\n                  <td>商品实付金额</td>\r\n                  <td>商品利润</td>\r\n                  <td>佣金状态</td>\r\n                  <td>佣金金额</td>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"le-table--body\">\r\n                {self.list.map(item => {\r\n                  return [\r\n                    [\r\n                      <tr class=\"le-body--empty\">\r\n                        <td colSpan=\"7\" />\r\n                      </tr>\r\n                    ],\r\n                    [\r\n                      <tr class=\"le-order--head\">\r\n                        <td colSpan=\"7\">\r\n                          <span class=\"le-order--time\">\r\n                            {this.$moment(new Date(item.created_time * 1000)).format('Y-MM-DD HH:mm:ss')}\r\n                          </span>\r\n                          <span class=\"le-order--text\">订单号：</span>\r\n                          <span class=\"le-order--number\">{item.order_sn}</span>\r\n                          {(() => {\r\n                            if (item.order.source === 'weapp') {\r\n                              let str = '小程序';\r\n                              let icon = 'le-icon-xiaochengxu';\r\n                              return [\r\n                                [<span class={'le-icon le-platform--icon ' + icon} />],\r\n                                [<span class=\"le-order--text\">{str}</span>]\r\n                              ];\r\n                            }\r\n                          })()}\r\n                        </td>\r\n                      </tr>\r\n                    ],\r\n                    [\r\n                      <tr class=\"le-order--info\">\r\n                        <td class=\"flex\">\r\n                          <el-image class=\"le-order--image\" src={item.orderGoods.goods_image} />\r\n                          <div class=\"le-order--content flex-sub\">\r\n                            <div class=\"flex \">\r\n                              <div class=\"le-goods--name\">{item.orderGoods.goods_name}</div>\r\n                            </div>\r\n                            <div class=\"le-goods--attr\">{item.orderGoods.goods_param}</div>\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <div class=\"le-goods--number\">\r\n                            ¥{item.orderGoods.goods_price}\r\n                            <br />X{item.orderGoods.goods_number}\r\n                          </div>\r\n                        </td>\r\n                        <td class=\"le-contact-person\">\r\n                          <div class=\"le-buyer\">{item.user.nickname}</div>\r\n                          <div class=\"le-receiver\">\r\n                            {item.buyer.name}\r\n                            <br />\r\n                            15862962362\r\n                          </div>\r\n                        </td>\r\n                        <td class=\"le-amount-paid\">¥{item.order.pay_amount}</td>\r\n                        <td class=\"le-amount-paid\">¥{item.profits_amount}</td>\r\n                        <td class=\"le-order--status\">\r\n                          {(() => {\r\n                            let type = '';\r\n                            let str = '';\r\n                            if (item.status === 1) {\r\n                              type = 'success';\r\n                              str = '已结算';\r\n                            } else {\r\n                              type = '待结算';\r\n                              str = 'warning';\r\n                            }\r\n                            return (\r\n                              <el-tag effect=\"plain\" size=\"medium\" type={type}>\r\n                                {str}\r\n                              </el-tag>\r\n                            );\r\n                          })()}\r\n                        </td>\r\n                        <td class=\"le-level\">\r\n                          <div>\r\n                            一级佣金：￥{item.commission.first.commission} 分销员：\r\n                            {item.commission.first.user}\r\n                          </div>\r\n                          <div>\r\n                            二级佣金：￥{item.commission.second.commission} 分销员：\r\n                            {item.commission.second.user}\r\n                          </div>\r\n                          <div>\r\n                            三级佣金：￥{item.commission.third.commission} 分销员：\r\n                            {item.commission.third.user}\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ]\r\n                  ];\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"flex le-pagination justify-end\">\r\n            <el-pagination\r\n              background={true}\r\n              current-page={self.form.page}\r\n              layout=\"prev, pager, next, jumper\"\r\n              on-current-change={self.switchPage}\r\n              page-count={self.pagination.pageCount}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import './index.less';\r\n\r\n.le-card:first-child {\r\n  margin-bottom: 24px;\r\n  .le-order--search ::v-deep {\r\n    .el-input.el-input-group {\r\n      width: 400px;\r\n      .el-input-group__prepend {\r\n        background: #ffffff;\r\n        .el-input,\r\n        .el-select {\r\n          width: 150px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .le-button {\r\n    margin-left: 110px;\r\n  }\r\n}\r\n.le-table--wrapper {\r\n  overflow-x: auto;\r\n  width: 100%;\r\n}\r\n.le-table {\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  .le-table--head:extend(.font-family-yahei) {\r\n    height: 40px;\r\n    background: #f5f7fa;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: #595959;\r\n  }\r\n  .le-body--empty {\r\n    height: 17px;\r\n  }\r\n  .le-table--body {\r\n    .le-order--head:extend(.font-family-yahei) {\r\n      background: #f5f7fa;\r\n      height: 48px;\r\n      font-size: 14px;\r\n      .le-order--time {\r\n        margin: 0 30px 0 20px;\r\n        color: #262626;\r\n      }\r\n      .le-order--number {\r\n        color: #262626;\r\n        margin-right: 30px;\r\n      }\r\n      .le-order--text {\r\n        color: #8c8c8c;\r\n      }\r\n      .le-platform--icon {\r\n        margin-right: 8px;\r\n      }\r\n    }\r\n    .le-order--head td {\r\n      border-top: 1px solid #dcdfe6;\r\n      border-top-left-radius: 4px;\r\n    }\r\n    .le-order--head td:first-child {\r\n      border-left: 1px solid #dcdfe6;\r\n    }\r\n    .le-order--head td:last-child {\r\n      border-right: 1px solid #dcdfe6;\r\n      border-top-right-radius: 4px;\r\n    }\r\n    .le-order--info td {\r\n      height: 120px;\r\n      border-bottom: 1px solid #dcdfe6;\r\n      border-right: 1px solid #dcdfe6;\r\n    }\r\n    .le-order--info td:first-child {\r\n      border-left: 1px solid #dcdfe6;\r\n      border-right: none;\r\n      border-bottom-left-radius: 4px;\r\n      padding: 20px;\r\n    }\r\n    .le-order--info td:nth-child(2) {\r\n      border-left: none !important;\r\n    }\r\n    .le-order--info td:last-child {\r\n      border-bottom-right-radius: 4px;\r\n    }\r\n    .le-order--image {\r\n      width: 80px;\r\n      height: 80px;\r\n    }\r\n    .le-order--content {\r\n      margin-left: 12px;\r\n      .le-goods--name:extend(.font-family-yahei) {\r\n        font-size: 14px;\r\n        font-weight: 400;\r\n        color: #262626;\r\n        min-width: 240px;\r\n      }\r\n      .le-goods--attr:extend(.font-family-yahei) {\r\n        font-size: 12px;\r\n        font-weight: 400;\r\n        color: #8c8c8c;\r\n      }\r\n    }\r\n    .le-goods--number:extend(.font-family-yahei) {\r\n      font-size: 14px;\r\n      font-weight: 400;\r\n      color: #262626;\r\n      line-height: 22px;\r\n      text-align: center;\r\n      padding: 0 20px;\r\n    }\r\n  }\r\n  .le-receiver:extend(.font-family-yahei) {\r\n    width: 144px;\r\n    height: 60px;\r\n    background: #f5f7fa;\r\n    border-radius: 8px;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: #262626;\r\n    line-height: 18px;\r\n    padding: 10px 25px;\r\n    margin: 6px auto 0 auto;\r\n  }\r\n  .le-buyer:extend(.font-family-yahei) {\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: #262626;\r\n    line-height: 18px;\r\n    margin-bottom: 6px;\r\n  }\r\n  .le-contact-person {\r\n    text-align: center;\r\n    padding: 0 20px;\r\n  }\r\n  .le-amount-paid:extend(.font-family-yahei) {\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: #262626;\r\n    text-align: center;\r\n    padding: 0 20px;\r\n  }\r\n  .le-level:extend(.font-family-yahei) {\r\n    padding: 0 20px 0 28px;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: #262626;\r\n    line-height: 20px;\r\n    min-width: 325px;\r\n  }\r\n  .le-order--status {\r\n    padding: 0 20px;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=script&lang=js&\""],"sourceRoot":""}