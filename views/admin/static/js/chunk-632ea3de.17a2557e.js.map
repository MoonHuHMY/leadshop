{"version":3,"sources":["webpack:///./src/plugins/task/order.vue?7a42","webpack:///./src/plugins/task/order.vue?284a","webpack:///src/plugins/task/order.vue","webpack:///./src/plugins/task/order.vue?a359","webpack:///./src/plugins/task/order.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","formValue","rules","prop","order","on","onSubmit","nativeOn","$event","type","indexOf","_k","keyCode","key","apply","arguments","model","value","callback","$$v","$set","expression","staticStyle","_v","handleChange","onEmpty","tableData","handleSortMethod","scopedSlots","_u","fn","scope","row","goods","goods_image","_s","_f","goods_name","show_goods_param","oauth","user","nickname","UID","order_sn","total_score","total_amount","goods_number","created_time","page","current","count","currentChange","sizeChange","staticRenderFns","data","validateStart","score_start","Error","console","log","score_end","size","search","date","filters","dateFormat","undefined","capitalize","length","slice","computed","created","watch","methods","$refs","ruleForm","validate","valid","e","handleLogLoad","resetFields","$heshop","plugin","res","headers","total","$emit","component"],"mappings":"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","file":"static/js/chunk-632ea3de.17a2557e.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=style&index=0&id=87e3cbbe&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"task-content\"},[_c('div',{staticClass:\"__search\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.formValue,\"rules\":_vm.rules,\"label-width\":\"100px\",\"default-sort\":{prop: 'created_time', order: 'descending'}}},[_c('div',[_c('el-form-item',{attrs:{\"label\":\"关键词搜索\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入商品名称/输入用户昵称/用户ID搜索\",\"clearable\":\"\"},on:{\"clear\":_vm.onSubmit},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSubmit.apply(null, arguments)}},model:{value:(_vm.formValue.search),callback:function ($$v) {_vm.$set(_vm.formValue, \"search\", $$v)},expression:\"formValue.search\"}})],1),_c('el-form-item',{attrs:{\"label\":\"积分价格\",\"prop\":\"score_start\"}},[_c('el-input',{attrs:{\"placeholder\":\"积分的最低值\"},model:{value:(_vm.formValue.score_start),callback:function ($$v) {_vm.$set(_vm.formValue, \"score_start\", $$v)},expression:\"formValue.score_start\"}}),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"47px\",\"height\":\"32px\",\"line-height\":\"32px\",\"text-align\":\"center\"}},[_vm._v(\"至\")]),_c('el-form-item',{staticStyle:{\"display\":\"inline-block\",\"margin-bottom\":\"0\"},attrs:{\"prop\":\"score_end\"}},[_c('el-input',{attrs:{\"placeholder\":\"积分的最高值\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.formValue.score_end),callback:function ($$v) {_vm.$set(_vm.formValue, \"score_end\", $$v)},expression:\"formValue.score_end\"}})],1)],1)],1),_c('div',[_c('el-form-item',{attrs:{\"label\":\"兑换时间\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始时间\",\"end-placeholder\":\"结束时间\"},model:{value:(_vm.formValue.date),callback:function ($$v) {_vm.$set(_vm.formValue, \"date\", $$v)},expression:\"formValue.date\"}})],1)],1),_c('div',{staticStyle:{\"padding-left\":\"100px\"}},[_c('el-form-item',{staticStyle:{\"margin-bottom\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"筛选\")]),_c('el-button',{on:{\"click\":_vm.onEmpty}},[_vm._v(\"清空\")])],1)],1)])],1),_c('div',{staticClass:\"__content\",staticStyle:{\"padding-top\":\"24px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"default-sort\":{prop: 'created_time', order: 'descending'}},on:{\"sort-change\":_vm.handleSortMethod}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"商品描述\",\"min-width\":\"312\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"__goods_cover\"},[_c('img',{attrs:{\"src\":scope.row.goods[0].goods_image,\"alt\":\"\"}}),_c('div',{staticClass:\"__goods_title\"},[_c('h3',[_vm._v(_vm._s(_vm._f(\"capitalize\")(scope.row.goods[0].goods_name)))]),_c('p',[_vm._v(_vm._s(scope.row.goods[0].show_goods_param))])])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"user\",\"label\":\"用户\",\"min-width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"__content_cover\"},[(scope.row.oauth.type =='weapp')?_c('i',{staticClass:\"le-icon le-icon-xiaochengxu\",staticStyle:{\"color\":\"#623CEB\"}}):_c('i',{staticClass:\"le-icon le-icon-weixin2\",staticStyle:{\"color\":\"#3BB430\"}}),_c('div',{staticClass:\"__content_title\"},[_c('h3',{staticClass:\"task_tab_tl\"},[_vm._v(_vm._s(scope.row.user.nickname))]),_c('p',[_vm._v(\"ID:\"+_vm._s(scope.row.UID))])])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"order_sn\",\"label\":\"订单号\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.order_sn)?_c('he-link',{attrs:{\"href\":\"order/orderDetail\",\"query\":{ order_sn: scope.row.order_sn }}},[_c('p',{staticClass:\"task_tab_tl\",staticStyle:{\"color\":\"#623CEB\",\"font-weight\":\"400\"}},[_vm._v(_vm._s(scope.row.order_sn || \"-\"))])]):_c('p',{staticClass:\"task_tab_tl\",staticStyle:{\"color\":\"#623CEB\",\"font-weight\":\"400\"}},[_vm._v(\"-\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"total_score\",\"label\":\"积分价格\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"task_tab_tl\"},[_vm._v(_vm._s(scope.row.total_score)+\"积分 + ¥\"+_vm._s(scope.row.total_amount))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"order_sn\",\"label\":\"兑换数量\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"task_tab_tl\"},[_vm._v(\" \"+_vm._s(scope.row.goods[0].goods_number)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"created_time\",\"label\":\"兑换时间\",\"sortable\":\"custom\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"task_tab_tl\"},[_vm._v(_vm._s(_vm._f(\"dateFormat\")(scope.row.created_time)))])]}}])})],1),_c('div',{staticClass:\"__paging\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.page.current,\"page-count\":_vm.page.count,\"background\":\"\",\"layout\":\"prev, pager, next, jumper\"},on:{\"current-change\":_vm.currentChange,\"size-change\":_vm.sizeChange}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"task-content\">\n    <div class=\"__search\">\n      <el-form :inline=\"true\" :model=\"formValue\" ref=\"ruleForm\" :rules=\"rules\" class=\"demo-form-inline\" label-width=\"100px\" :default-sort=\"{prop: 'created_time', order: 'descending'}\">\n        <div>\n          <el-form-item label=\"关键词搜索\">\n            <el-input v-model=\"formValue.search\" placeholder=\"请输入商品名称/输入用户昵称/用户ID搜索\" @keyup.enter.native=\"onSubmit\" @clear=\"onSubmit\" clearable></el-input>\n          </el-form-item>\n          <el-form-item label=\"积分价格\" prop=\"score_start\">\n            <el-input v-model=\"formValue.score_start\" placeholder=\"积分的最低值\"></el-input>\n            <span style=\"display: inline-block;width: 47px; height: 32px; line-height: 32px;text-align: center;\">至</span>\n            <el-form-item prop=\"score_end\" style=\"display: inline-block; margin-bottom: 0\">\n              <el-input v-model=\"formValue.score_end\" placeholder=\"积分的最高值\" @change=\"handleChange\"></el-input>\n            </el-form-item>\n          </el-form-item>\n        </div>\n        <div>\n          <el-form-item label=\"兑换时间\">\n            <el-date-picker v-model=\"formValue.date\" type=\"datetimerange\" range-separator=\"至\" start-placeholder=\"开始时间\" end-placeholder=\"结束时间\">\n            </el-date-picker>\n          </el-form-item>\n        </div>\n        <div style=\"padding-left: 100px\">\n          <el-form-item style=\"margin-bottom: 0\">\n            <el-button type=\"primary\" @click=\"onSubmit\">筛选</el-button>\n            <el-button @click=\"onEmpty\">清空</el-button>\n          </el-form-item>\n        </div>\n      </el-form>\n    </div>\n    <div class=\"__content\" style=\"padding-top: 24px;\">\n      <el-table :data=\"tableData\" style=\"width: 100%\" :default-sort=\"{prop: 'created_time', order: 'descending'}\" @sort-change=\"handleSortMethod\">\n        <el-table-column prop=\"name\" label=\"商品描述\" min-width=\"312\">\n          <template slot-scope=\"scope\">\n            <div class=\"__goods_cover\">\n              <img :src=\"scope.row.goods[0].goods_image\" alt=\"\">\n              <div class=\"__goods_title\">\n                <h3>{{ scope.row.goods[0].goods_name | capitalize}}</h3>\n                <p>{{scope.row.goods[0].show_goods_param}}</p>\n              </div>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"user\" label=\"用户\" min-width=\"220\">\n          <template slot-scope=\"scope\">\n            <div class=\"__content_cover\">\n              <i class=\"le-icon le-icon-xiaochengxu\" style=\"color: #623CEB\" v-if=\"scope.row.oauth.type =='weapp'\"></i>\n              <i class=\"le-icon le-icon-weixin2\" style=\"color: #3BB430\" v-else></i>\n              <div class=\"__content_title\">\n                <h3 class=\"task_tab_tl\">{{ scope.row.user.nickname}}</h3>\n                <p>ID:{{scope.row.UID}}</p>\n              </div>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"order_sn\" label=\"订单号\" min-width=\"180\">\n          <template slot-scope=\"scope\">\n            <he-link href=\"order/orderDetail\" :query=\"{ order_sn: scope.row.order_sn }\" v-if=\"scope.row.order_sn\">\n              <p class=\"task_tab_tl\" style=\"color: #623CEB;font-weight: 400;\">{{scope.row.order_sn || \"-\"}}</p>\n            </he-link>\n            <p v-else class=\"task_tab_tl\" style=\"color: #623CEB;font-weight: 400;\">-</p>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"total_score\" label=\"积分价格\" min-width=\"180\">\n          <template slot-scope=\"scope\">\n            <p class=\"task_tab_tl\">{{scope.row.total_score}}积分 + ¥{{scope.row.total_amount}}</p>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"order_sn\" label=\"兑换数量\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <p class=\"task_tab_tl\">\n              {{scope.row.goods[0].goods_number}}\n            </p>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"created_time\" label=\"兑换时间\" sortable=\"custom\" min-width=\"200\">\n          <template slot-scope=\"scope\">\n            <p class=\"task_tab_tl\">{{scope.row.created_time | dateFormat}}</p>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"__paging\">\n        <el-pagination :current-page=\"page.current\" :page-count=\"page.count\" @current-change=\"currentChange\" @size-change=\"sizeChange\" background=\"\" layout=\"prev, pager, next, jumper\">\n        </el-pagination>\n      </div>\n    </div>\n  </div>\n</template>\n<script type=\"text/javascript\">\nimport moment from \"moment\";\nexport default {\n  data() {\n    var validateStart = (rule, value, callback) => {\n      let score_start = Number(this.formValue.score_start)\n      let score_end = this.formValue.score_end ? Number(this.formValue.score_end) : ''\n      if (score_start) {\n        if (!(score_start % 1 === 0)) {\n          callback(new Error('积分必须是整数'));\n          return;\n        }\n        console.log(\"score_end === 0\", score_end, score_end === 0)\n        if (score_end || score_end === 0) {\n          if (score_start > score_end) {\n            callback(new Error('最低值需小于或等于最高值'));\n            return;\n          }\n        }\n      }\n      callback();\n    };\n    var validateEnd = (rule, value, callback) => {\n      let score_start = Number(this.formValue.score_start)\n      let score_end = Number(this.formValue.score_end)\n      if (score_start) {\n        if (!(score_end % 1 === 0)) {\n          callback(new Error('积分必须是整数'));\n        }\n        if (score_start > score_end) {\n          callback(new Error('最高值需大于或等于最高低'));\n        } else {\n          callback();\n        }\n      } else {\n        callback();\n      }\n\n    };\n    return {\n      /**\n       * 分页数据\n       * @type {Object}\n       */\n      page: {\n        size: 20,\n        current: 1,\n      },\n      /**\n       * 表格数据\n       * @type {Array}\n       */\n      tableData: [],\n      /**\n       * 表单数据\n       * @type {Object}\n       */\n      formValue: {\n        search: '',\n        score_start: '',\n        score_end: '',\n        date: []\n      },\n      /**\n       * 验证规则\n       * @type {Object}\n       */\n      rules: {\n        score_start: [\n\n          { validator: validateStart, trigger: 'blur' }\n        ],\n        // score_end: [\n\n        //   { validator: validateEnd, trigger: 'blur' }\n        // ]\n      }\n    };\n  },\n  filters: {\n    /**\n     * 格式化时间\n     * @param  {[type]} row    [description]\n     * @param  {[type]} column [description]\n     * @return {[type]}        [description]\n     */\n    dateFormat(date) {\n      if (date === undefined) {\n        return ''\n      }\n      return moment(date * 1000).format(\"YYYY-MM-DD HH:mm:ss\")\n    },\n    capitalize: function(value) {\n      if (value.length >= 32) {\n        return value.slice(0, 29) + \"...\";\n      } else {\n        return value;\n      }\n    }\n  },\n  /**\n   * 计算属性\n   * @type {Object}\n   */\n  computed: {\n\n  },\n  /**\n   * 页面渲染前\n   * @return {[type]} [description]\n   */\n  created() {\n\n  },\n  /**\n   * 数据监听\n   * @type {Object}\n   */\n  watch: {\n\n  },\n  /**\n   * 页面加载执行\n   * @return {[type]} [description]\n   */\n  async mounted() {\n    this.handleLogLoad();\n  },\n  methods: {\n    handleChange() {\n      this.$refs.ruleForm.validate((valid) => {\n        console.log(\"执行的\", valid)\n      });\n    },\n    handleSortMethod(e) {\n      if (e.order == 'ascending') {\n        this.formValue['sort'] = {\n          \"o.created_time\": \"ASC\"\n        }\n      }\n      if (e.order == 'descending') {\n        this.formValue['sort'] = {\n          \"o.created_time\": \"DESC\"\n        }\n      }\n      if (e.order == null) {\n        this.formValue['sort'] = {}\n      }\n      this.handleLogLoad();\n\n    },\n    onEmpty() {\n      this.formValue = {\n        search: '',\n        score_start: '',\n        score_end: '',\n        date: []\n      }\n      this.$refs.ruleForm.resetFields();\n      this.handleLogLoad();\n    },\n    /**\n     * 加载商品数据\n     * @param  {Function} done [description]\n     * @return {[type]}        [description]\n     */\n    handleLogLoad() {\n      let keyword = JSON.parse(JSON.stringify(this.formValue));\n      let { page } = this;\n      //执行API方法\n      this.$heshop.plugin(\"get\", { include: \"task\", model: \"order\", keyword: JSON.stringify(keyword) }).page(page.current, page.size).then(res => {\n        console.log(\"res\", res)\n        //判断文件是否存在\n        if (res && res.headers) {\n          let { data, headers } = res;\n          this.page = {\n            current: +headers[\"x-pagination-current-page\"],\n            count: +headers[\"x-pagination-page-count\"],\n            size: +headers[\"x-pagination-per-page\"],\n            total: +headers[\"x-pagination-total-count\"],\n          };\n          this.tableData = data;\n        }\n      }).catch(err => {\n        this.$message.error('加载配置信息失败，请检查网络');\n      })\n    },\n    /**\n     * 提交数据\n     * @return {[type]} [description]\n     */\n    onSubmit() {\n      this.handleLogLoad();\n    },\n    /**\n     * 跳页\n     * @param  {[type]} e [description]\n     * @return {[type]}   [description]\n     */\n    sizeChange: function(e) {\n      this.page.size = e;\n      this.handleLogLoad();\n      this.$emit(\"request\", { page: this.page, sort: this.order });\n    },\n    /**\n     * 跳页\n     * @param  {[type]} e [description]\n     * @return {[type]}   [description]\n     */\n    currentChange: function(e) {\n      this.page.current = e;\n      this.handleLogLoad();\n      this.$emit(\"request\", { page: this.page, sort: this.order });\n    },\n  }\n};\n\n</script>\n<style lang=\"less\" scoped=\"true\">\n@import \"./task.less\";\n\n.task-content {\n  .__content_cover {\n    position: relative;\n    padding-left: 25px;\n    margin-bottom: 10px;\n    margin-top: 10px;\n\n    h3,\n    p {\n      padding: 0;\n      margin: 0;\n    }\n\n    .le-icon {\n      position: absolute;\n      left: 0;\n      top: 5px;\n      font-size: 16px;\n      height: 16px;\n      line-height: 16px;\n      width: 16px;\n    }\n  }\n\n  .__goods_cover {\n    display: flex;\n    position: relative;\n\n    img {\n      width: 64px;\n      height: 64px;\n      background: #F2F2F2;\n      margin-right: 12px;\n    }\n\n    .__goods_title {\n      display: table;\n      height: 48px;\n      width: 230px;\n\n      h3 {\n        padding: 0;\n        margin: 0;\n        font-size: 14px;\n        font-weight: 400;\n        color: #262626;\n        line-height: 18px;\n        margin-bottom: 4px;\n        padding-right: 4px;\n      }\n\n      p {\n        padding: 0;\n        margin: 0;\n        line-height: 16px;\n        font-size: 12px;\n        font-weight: 400;\n        color: #8C8C8C;\n      }\n    }\n  }\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./order.vue?vue&type=template&id=87e3cbbe&scoped=true&\"\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&id=87e3cbbe&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87e3cbbe\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}