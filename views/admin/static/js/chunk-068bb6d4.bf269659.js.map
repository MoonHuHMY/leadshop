{"version":3,"sources":["webpack:///./src/practical/live/index.vue?c1ce","webpack:///./src/practical/live/index.vue?f043","webpack:///src/practical/live/index.vue","webpack:///./src/practical/live/index.vue?d534","webpack:///./src/practical/live/index.vue","webpack:///./src/practical/live/index.vue?57a7"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","on","routerCreateRoom","_v","list","prop","order","scopedSlots","_u","key","fn","scope","_s","_f","row","start_time","end_time","feeds_img_base64","slot","roomid","anchor_name","live_status","$event","routerAddGood","_e","shareLiveRoom","editCreateRoom","deleteRoom","$index","page","current","count","currentChange","$set","staticRenderFns","components","data","loading","computed","created","watch","methods","getLiveList","$heshop","$router","push","localStorage","setItem","JSON","stringify","item","path","query","goods","room_id","DownloadImgZP","image","setAttribute","onload","canvas","width","height","context","drawImage","a","download","href","url","dispatchEvent","event","src","imgPath","$confirm","copy","content","success","_this","$message","filters","getTime","date","Date","component"],"mappings":"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","file":"static/js/chunk-068bb6d4.bf269659.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=59ebe996&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"le-main\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.routerCreateRoom}},[_vm._v(\"创建直播间\")]),_c('div',{staticClass:\"le-card\"},[_c('el-table',{staticClass:\"le-table\",attrs:{\"data\":_vm.list,\"row-class-name\":\"le-table--row\",\"default-sort\":{ prop: 'roomid', order: 'descending' }}},[_c('el-table-column',{attrs:{\"label\":\"直播时间\",\"min-width\":\"320px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"getTime\")(scope.row.start_time))+\" ~ \"+_vm._s(_vm._f(\"getTime\")(scope.row.end_time))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"直播间信息\",\"min-width\":\"400px\",\"sortable\":\"\",\"prop\":\"roomid\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"flex\"},[_c('el-image',{staticClass:\"le-image\",attrs:{\"src\":scope.row.feeds_img_base64}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])]),_c('div',{staticClass:\"flex-sub le-info\"},[_c('div',{staticClass:\"le-name\"},[_vm._v(_vm._s(scope.row.name))]),_c('div',{staticClass:\"le-assist\"},[_vm._v(\" 房间号：\"+_vm._s(scope.row.roomid)),_c('br'),_vm._v(\" 主播：\"+_vm._s(scope.row.anchor_name)+\" \")])])],1)}}])}),_c('el-table-column',{attrs:{\"label\":\"直播状态\",\"width\":\"156px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"effect\":\"plain\",\"size\":\"medium\",\"type\":scope.row.live_status === 101\n                ? 'success'\n                : scope.row.live_status === 102\n                ? 'warning'\n                : scope.row.live_status === 103 || scope.row.live_status === 107\n                ? 'info'\n                : scope.row.live_status === 104 || scope.row.live_status === 106\n                ? 'danger'\n                : ''}},[_vm._v(\" \"+_vm._s(scope.row.live_status === 101 ? '直播中' : scope.row.live_status === 102 ? '未开始' : scope.row.live_status === 103 ? '已结束' : scope.row.live_status === 104 ? '禁播' : scope.row.live_status === 105 ? '暂停' : scope.row.live_status === 106 ? '异常' : scope.row.live_status === 107 ? '已过期' : '')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"350px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"le-operating flex align-center\"},[(scope.row.live_status === 101 || scope.row.live_status === 102 || scope.row.live_status === 105)?[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.routerAddGood(scope.row)}}},[_vm._v(\"添加商品\")]),_c('span',{staticClass:\"le-line\"})]:_vm._e(),(scope.row.live_status !== 107)?[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.shareLiveRoom(scope.row)}}},[_vm._v(\"分享\")]),(scope.row.live_status !== 101)?_c('span',{staticClass:\"le-line\"}):_vm._e()]:_vm._e(),(scope.row.live_status === 102)?[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.editCreateRoom(scope.row)}}},[_vm._v(\"编辑\")]),_c('span',{staticClass:\"le-line\"})]:_vm._e(),(scope.row.live_status !== 106 && scope.row.live_status !== 101)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deleteRoom(scope.row.roomid, scope.$index)}}},[_vm._v(\"删除 \")]):_vm._e()],2)}}])})],1),_c('div',{staticClass:\"flex le-pagination justify-end\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.page.current,\"page-count\":_vm.page.count,\"layout\":\"prev, pager, next, jumper\"},on:{\"current-change\":_vm.currentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.page, \"current\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.page, \"current\", $event)}}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"le-main\" v-loading=\"loading\">\n    <el-button type=\"primary\" @click=\"routerCreateRoom\">创建直播间</el-button>\n    <div class=\"le-card\">\n      <el-table\n        :data=\"list\"\n        class=\"le-table\"\n        row-class-name=\"le-table--row\"\n        :default-sort=\"{ prop: 'roomid', order: 'descending' }\"\n      >\n        <el-table-column label=\"直播时间\" min-width=\"320px\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.start_time | getTime }} ~ {{ scope.row.end_time | getTime }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"直播间信息\" min-width=\"400px\" sortable prop=\"roomid\">\n          <div slot-scope=\"scope\" class=\"flex\">\n            <el-image class=\"le-image\" :src=\"scope.row.feeds_img_base64\">\n              <div slot=\"error\" class=\"image-slot\">\n                <i class=\"el-icon-picture-outline\"></i>\n              </div>\n            </el-image>\n            <div class=\"flex-sub le-info\">\n              <div class=\"le-name\">{{ scope.row.name }}</div>\n              <div class=\"le-assist\">\n                房间号：{{ scope.row.roomid }}<br />\n                主播：{{ scope.row.anchor_name }}\n              </div>\n            </div>\n          </div>\n        </el-table-column>\n        <el-table-column label=\"直播状态\" width=\"156px\">\n          <template slot-scope=\"scope\">\n            <el-tag\n              effect=\"plain\"\n              size=\"medium\"\n              :type=\"\n                scope.row.live_status === 101\n                  ? 'success'\n                  : scope.row.live_status === 102\n                  ? 'warning'\n                  : scope.row.live_status === 103 || scope.row.live_status === 107\n                  ? 'info'\n                  : scope.row.live_status === 104 || scope.row.live_status === 106\n                  ? 'danger'\n                  : ''\n              \"\n            >\n              {{\n                scope.row.live_status === 101\n                  ? '直播中'\n                  : scope.row.live_status === 102\n                  ? '未开始'\n                  : scope.row.live_status === 103\n                  ? '已结束'\n                  : scope.row.live_status === 104\n                  ? '禁播'\n                  : scope.row.live_status === 105\n                  ? '暂停'\n                  : scope.row.live_status === 106\n                  ? '异常'\n                  : scope.row.live_status === 107\n                  ? '已过期'\n                  : ''\n              }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" min-width=\"350px\">\n          <div slot-scope=\"scope\" class=\"le-operating flex align-center\">\n            <template\n              v-if=\"scope.row.live_status === 101 || scope.row.live_status === 102 || scope.row.live_status === 105\"\n            >\n              <el-button type=\"text\" @click=\"routerAddGood(scope.row)\">添加商品</el-button>\n              <span class=\"le-line\"></span>\n            </template>\n            <template v-if=\"scope.row.live_status !== 107\">\n              <el-button type=\"text\" @click=\"shareLiveRoom(scope.row)\">分享</el-button>\n              <span class=\"le-line\" v-if=\"scope.row.live_status !== 101\"></span>\n            </template>\n            <template v-if=\"scope.row.live_status === 102\">\n              <el-button type=\"text\" @click=\"editCreateRoom(scope.row)\">编辑</el-button>\n              <span class=\"le-line\"></span>\n            </template>\n            <el-button\n              type=\"text\"\n              @click=\"deleteRoom(scope.row.roomid, scope.$index)\"\n              v-if=\"scope.row.live_status !== 106 && scope.row.live_status !== 101\"\n              >删除\n            </el-button>\n          </div>\n        </el-table-column>\n      </el-table>\n      <div class=\"flex le-pagination justify-end\">\n        <el-pagination\n          background\n          @current-change=\"currentChange\"\n          :current-page.sync=\"page.current\"\n          :page-count=\"page.count\"\n          layout=\"prev, pager, next, jumper\"\n        >\n        </el-pagination>\n      </div>\n    </div>\n  </div>\n</template>\n<script type=\"text/javascript\">\nimport copy from '@/lib/function/copy.js';\n\nexport default {\n  components: {},\n  data() {\n    return {\n      list: [],\n      page: {\n        count: 1,\n        current: 1\n      },\n      loading: false\n    };\n  },\n  /**\n   * 计算属性\n   * @type {Object}\n   */\n  computed: {},\n  /**\n   * 页面渲染前\n   * @return {[type]} [description]\n   */\n  created() {},\n  /**\n   * 数据监听\n   * @type {Object}\n   */\n  watch: {},\n  /**\n   * 页面加载执行\n   * @return {[type]} [description]\n   */\n  async mounted() {\n    this.getLiveList();\n  },\n  methods: {\n    // 获取直播列表\n    getLiveList() {\n      this.$heshop\n        .live('get', {\n          page: this.page.current,\n          limit: 10\n        })\n        .then(response => {\n          response.list.forEach(item => {\n            item.start_time = new Date(item.start_time);\n            item.end_time = new Date(item.end_time);\n          });\n          this.list = response.list;\n          this.page.count = response.pageCount;\n        })\n        .catch(error => {\n          this.$message.error(error.data.message);\n        });\n    },\n    // 路由到创建直播页面\n    routerCreateRoom() {\n      this.$router.push('/practical/live/createRoom');\n    },\n    // 路由到编辑直播页面\n    editCreateRoom(item) {\n      localStorage.setItem('editRoom', JSON.stringify(item));\n      this.$router.push({\n        path: '/practical/live/createRoom',\n        query: {\n          roomid: item.roomid\n        }\n      });\n    },\n    // 路由到添加商品页面\n    routerAddGood(item) {\n      let data = {\n        goods: item.goods,\n        anchor_name: item.anchor_name,\n        room_id: item.roomid,\n        feeds_img_base64: item.feeds_img_base64,\n        name: item.name\n      };\n      localStorage.setItem('addGoods', JSON.stringify(data));\n      this.$router.push({\n        path: '/practical/live/addGood',\n        query: {\n          room_id: item.roomid\n        }\n      });\n    },\n    currentChange() {\n      this.getLiveList();\n    },\n    DownloadImgZP(imgPath, name) {\n      const image = new Image();\n      // 解决跨域 Canvas 污染问题\n      image.setAttribute('crossOrigin', 'anonymous');\n      image.onload = function () {\n        const canvas = document.createElement('canvas');\n        canvas.width = image.width;\n        canvas.height = image.height;\n        const context = canvas.getContext('2d');\n        context.drawImage(image, 0, 0, image.width, image.height);\n        const url = canvas.toDataURL('image/png'); // 得到图片的base64编码数据\n        const a = document.createElement('a'); // 生成一个a元素\n        const event = new MouseEvent('click'); // 创建一个单击事件\n        a.download = name;\n        a.href = url; // 将生成的URL设置为a.href属性\n        a.dispatchEvent(event); // 触发a的单击事件\n      };\n      image.src = imgPath;\n    },\n    shareLiveRoom(item) {\n      this.loading = true;\n      this.$heshop\n        .live('get', {\n          behavior: 'qrcode',\n          room_id: item.roomid\n        })\n        .then(response => {\n          this.loading = false;\n          this.$confirm('', {\n            customClass: 'le-share-live-room',\n            message: (\n              <div>\n                <div style=\"text-align: center;margin-bottom: 32px\">分享</div>\n                <div class=\"flex\">\n                  <img src={response.poster_url_img} width=\"240px\" height=\"316px\" alt=\"\" />\n                  <div class=\"le-right\">\n                    <div class=\"le-text\">直播间页面路径</div>\n                    <el-input class=\"le-copy\" id=\"copy-input\" disabled value={response.pagePath}>\n                      <el-button slot=\"append\" onClick={this.copy.bind(this, response.pagePath)}>\n                        复制\n                      </el-button>\n                    </el-input>\n                    <div class=\"le-btn\">\n                      <el-button onClick={this.DownloadImgZP.bind(this, response.poster_url_img, '海报')}>\n                        下载海报\n                      </el-button>\n                      <el-button onClick={this.DownloadImgZP.bind(this, response.cdn_url_img, '小程序码')}>\n                        仅下载小程序码\n                      </el-button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ),\n            showCancelButton: false,\n            showConfirmButton: false\n          })\n            .then(() => {})\n            .catch(() => {});\n        })\n        .catch(error => {\n          this.loading = false;\n          this.$message.error(error.data.message);\n        });\n    },\n    deleteRoom(roomId, index) {\n      this.$confirm('直播间删除请谨慎操作，确定删除？', {})\n        .then(() => {\n          this.$heshop\n            .live(\n              'post',\n              {\n                behavior: 'delete'\n              },\n              {\n                room_id: roomId\n              }\n            )\n            .then(() => {\n              this.$delete(this.list, index);\n            })\n            .catch(error => {\n              this.$message.error(error.data.message);\n            });\n        })\n        .catch(() => {\n          // Don't do\n        });\n    },\n    copy: function (content) {\n      let _this = this;\n      copy({\n        content: content,\n        success: function () {\n          _this.$message.success('复制成功');\n        }\n      });\n    }\n  },\n  filters: {\n    getTime(date) {\n      if (!(date instanceof Date)) return '';\n      const month = date.getMonth() + 1;\n      const day = date.getDate() < 10 ? `0${date.getDate()}` : date.getDate();\n      const hour = date.getHours() < 10 ? `0${date.getHours()}` : date.getHours();\n      const min = date.getMinutes() < 10 ? `0${date.getMinutes()}` : date.getMinutes();\n      return `${month}月${day}日 ${hour}:${min}`;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped=\"true\">\n@import './../index.less';\n\n.le-card {\n  margin-top: 24px;\n\n  .le-image {\n    width: 64px;\n    height: 64px;\n  }\n\n  .le-info {\n    margin-left: 12px;\n\n    .le-assist {\n      font-size: 12px;\n      font-weight: 400;\n      color: #8c8c8c;\n      line-height: 16px;\n    }\n  }\n\n  .le-name {\n    line-height: 20px;\n  }\n}\n\n.le-table ::v-deep {\n  .le-table--row {\n    height: 90px;\n    font-size: 14px;\n    font-family: Microsoft YaHei;\n    font-weight: 400;\n    color: #262626;\n  }\n\n  .le-operating {\n    .el-button {\n      padding: 9px 0px;\n    }\n\n    .le-line {\n      display: inline-block;\n      background: #623ceb;\n      width: 1px;\n      height: 12px;\n      margin: 0 10px;\n    }\n  }\n}\n\n.le-pagination {\n  margin-top: 15px;\n}\n</style>\n\n<style lang=\"less\">\n.le-share-live-room {\n  .el-message-box__content {\n    padding: 10px 40px;\n\n    .le-right {\n      width: 316px;\n      padding-left: 15px;\n\n      .le-text {\n        font-size: 14px;\n        font-family: Microsoft YaHei;\n        font-weight: 400;\n        color: #8c8c8c;\n        margin: 15px 0;\n      }\n    }\n  }\n\n  .le-copy {\n    .el-input-group__append {\n      color: #fff;\n      background: #623ceb;\n    }\n  }\n\n  .le-btn {\n    margin-top: 15px;\n\n    .el-button {\n      background: #ffffff;\n      border: 1px solid #623ceb;\n      border-radius: 4px;\n      color: #623ceb;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=59ebe996&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=59ebe996&lang=less&scoped=true&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59ebe996\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&lang=less&\""],"sourceRoot":""}