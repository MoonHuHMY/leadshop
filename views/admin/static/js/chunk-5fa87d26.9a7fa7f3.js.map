{"version":3,"sources":["webpack:///./src/practical/live/addLiveGood.vue?55d0","webpack:///./src/practical/live/addLiveGood.vue?0744","webpack:///src/practical/live/addLiveGood.vue","webpack:///./src/practical/live/addLiveGood.vue?4c82","webpack:///./src/practical/live/addLiveGood.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","ref","staticClass","attrs","rules","form","Object","keys","goods","length","on","getGoodDetail","_v","backgroundColor","confirmGoods","model","callback","$$v","$set","slideshow","_s","disabledEdit","_e","$event","class","scopedSlots","_u","key","fn","scope","url","stopPropagation","e","pic_url","apply","arguments","slot","priceTypeChange","price_type","formatNum","price","price2","loading","submit","staticRenderFns","components","goodsSelect","data","isNaN","is_show","my_goods_id","goods_name","page_url","computed","$route","query","status","created","watch","methods","$refs","clearValidate","handleClick","validate","valid","id","temp","replace","val","component"],"mappings":"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","file":"static/js/chunk-5fa87d26.9a7fa7f3.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addLiveGood.vue?vue&type=style&index=0&id=4b84cbbc&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"form\",staticClass:\"le-main le-card\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"217px\"}},[_c('el-form-item',{staticClass:\"le-search--id\",attrs:{\"label\":\"选择商品\",\"prop\":\"goods\"}},[_c('el-button',{attrs:{\"plain\":\"\",\"disabled\":Object.keys(_vm.form.goods).length > 0},on:{\"click\":_vm.getGoodDetail}},[_vm._v(\"选择商品\")]),_c('goods-select',{ref:\"goodsSelect\",attrs:{\"is-tips\":false,\"select-style\":{ backgroundColor: '#ffffff' }},on:{\"confirm\":_vm.confirmGoods},model:{value:(_vm.form.goods),callback:function ($$v) {_vm.$set(_vm.form, \"goods\", $$v)},expression:\"form.goods\"}}),(Object.keys(_vm.form.goods).length > 0)?_c('div',{staticClass:\"flex le-goods\"},[_c('el-image',{staticClass:\"le-goods--image\",attrs:{\"src\":_vm.form.goods.slideshow[0]}}),_c('div',{staticClass:\"le-goods--name flex-sub\"},[_vm._v(\" \"+_vm._s(_vm.form.goods.name)+\" \")]),(!_vm.disabledEdit)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.form.goods = {}}}},[_vm._v(\"移除\")]):_vm._e()],1):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}},[_c('el-input',{attrs:{\"disabled\":_vm.disabledEdit,\"maxlength\":\"14\",\"show-word-limit\":\"\",\"placeholder\":\"请输入商品名称\"},model:{value:(_vm.form.goods_name),callback:function ($$v) {_vm.$set(_vm.form, \"goods_name\", $$v)},expression:\"form.goods_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品封面\",\"prop\":\"pic_url\"}},[_c('div',{staticClass:\"select-cover__120\",class:[_vm.disabledEdit ? 'le-still' : '']},[_c('pictureDialog',{attrs:{\"disabled\":_vm.disabledEdit,\"limit\":1},scopedSlots:_vm._u([{key:\"preview\",fn:function(scope){return _c('div',{staticClass:\"select-cover__120-edit\"},[_c('el-image',{attrs:{\"src\":scope.url,\"fit\":\"cover\"}}),(!_vm.disabledEdit)?_c('div',{staticClass:\"select-cover__120-tips\"},[_c('span',[_vm._v(\"替换\")]),_vm._v(\" | \"),_c('span',{on:{\"click\":function($event){$event.stopPropagation();return (function (e) { return (_vm.form.pic_url = ''); }).apply(null, arguments)}}},[_vm._v(\"删除\")])]):_vm._e()],1)}}]),model:{value:(_vm.form.pic_url),callback:function ($$v) {_vm.$set(_vm.form, \"pic_url\", $$v)},expression:\"form.pic_url\"}},[_c('div',{staticClass:\"select-cover__120-add\",attrs:{\"slot\":\"upload\"},slot:\"upload\"},[_c('i',{staticClass:\"le-icon le-icon-add select-cover__120-icon\"}),_c('span',{staticClass:\"select-cover__120-text\"},[_vm._v(\"添加图片\")])])])],1),_c('div',{staticClass:\"le-prompt-text\"},[_vm._v(\"建议尺寸：300像素 * 300像素，图片大小不得超过1M\")])]),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"prop\":\"price_type\"}},[_c('el-radio-group',{on:{\"change\":_vm.priceTypeChange},model:{value:(_vm.form.price_type),callback:function ($$v) {_vm.$set(_vm.form, \"price_type\", $$v)},expression:\"form.price_type\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"一口价\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"价格区间\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"折扣价\")])],1),(_vm.form.price_type === 1)?_c('div',[_c('el-input',{on:{\"input\":function($event){return _vm.formatNum(_vm.form.price, 'price')}},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1):(_vm.form.price_type === 2)?_c('div',{staticClass:\"le-small-input\"},[_c('el-input',{on:{\"input\":function($event){return _vm.formatNum(_vm.form.price, 'price')}},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2),_c('span',[_vm._v(\"至\")]),_c('el-input',{on:{\"input\":function($event){return _vm.formatNum(_vm.form.price2, 'price2')}},model:{value:(_vm.form.price2),callback:function ($$v) {_vm.$set(_vm.form, \"price2\", $$v)},expression:\"form.price2\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1):(_vm.form.price_type === 3)?_c('div',{staticClass:\"le-small-input\"},[_c('span',[_vm._v(\"原价\")]),_c('el-input',{on:{\"input\":function($event){return _vm.formatNum(_vm.form.price, 'price')}},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2),_c('span',[_vm._v(\"现价\")]),_c('el-input',{on:{\"input\":function($event){return _vm.formatNum(_vm.form.price2, 'price2')}},model:{value:(_vm.form.price2),callback:function ($$v) {_vm.$set(_vm.form, \"price2\", $$v)},expression:\"form.price2\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1):_vm._e()],1)],1),_c('div',{staticClass:\"le-cardpin\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.submit}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-form v-loading=\"loading\" ref=\"form\" class=\"le-main le-card\" :rules=\"rules\" :model=\"form\" label-width=\"217px\">\n      <el-form-item label=\"选择商品\" class=\"le-search--id\" prop=\"goods\">\n        <el-button plain @click=\"getGoodDetail\" :disabled=\"Object.keys(form.goods).length > 0\">选择商品</el-button>\n        <goods-select\n          ref=\"goodsSelect\"\n          :is-tips=\"false\"\n          :select-style=\"{ backgroundColor: '#ffffff' }\"\n          v-model=\"form.goods\"\n          @confirm=\"confirmGoods\"\n        >\n        </goods-select>\n        <div class=\"flex le-goods\" v-if=\"Object.keys(form.goods).length > 0\">\n          <el-image class=\"le-goods--image\" :src=\"form.goods.slideshow[0]\"></el-image>\n          <div class=\"le-goods--name flex-sub\">\n            {{ form.goods.name }}\n          </div>\n          <el-button type=\"text\" @click=\"form.goods = {}\" v-if=\"!disabledEdit\">移除</el-button>\n        </div>\n      </el-form-item>\n      <el-form-item label=\"商品名称\" prop=\"goods_name\">\n        <el-input\n          :disabled=\"disabledEdit\"\n          v-model=\"form.goods_name\"\n          maxlength=\"14\"\n          show-word-limit\n          placeholder=\"请输入商品名称\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"商品封面\" prop=\"pic_url\">\n        <div class=\"select-cover__120\" :class=\"[disabledEdit ? 'le-still' : '']\">\n          <pictureDialog v-model=\"form.pic_url\" :disabled=\"disabledEdit\" :limit=\"1\">\n            <div slot=\"upload\" class=\"select-cover__120-add\">\n              <i class=\"le-icon le-icon-add select-cover__120-icon\"></i>\n              <span class=\"select-cover__120-text\">添加图片</span>\n            </div>\n            <div slot=\"preview\" slot-scope=\"scope\" class=\"select-cover__120-edit\">\n              <el-image :src=\"scope.url\" fit=\"cover\"></el-image>\n              <div class=\"select-cover__120-tips\" v-if=\"!disabledEdit\">\n                <span>替换</span> |\n                <span @click.stop=\"e => (form.pic_url = '')\">删除</span>\n              </div>\n            </div>\n          </pictureDialog>\n        </div>\n        <div class=\"le-prompt-text\">建议尺寸：300像素 * 300像素，图片大小不得超过1M</div>\n      </el-form-item>\n      <el-form-item label=\"商品价格\" prop=\"price_type\">\n        <el-radio-group v-model=\"form.price_type\" @change=\"priceTypeChange\">\n          <el-radio :label=\"1\">一口价</el-radio>\n          <el-radio :label=\"2\">价格区间</el-radio>\n          <el-radio :label=\"3\">折扣价</el-radio>\n        </el-radio-group>\n        <div v-if=\"form.price_type === 1\">\n          <el-input @input=\"formatNum(form.price, 'price')\" v-model=\"form.price\">\n            <template slot=\"append\">元</template>\n          </el-input>\n        </div>\n        <div v-else-if=\"form.price_type === 2\" class=\"le-small-input\">\n          <el-input @input=\"formatNum(form.price, 'price')\" v-model=\"form.price\">\n            <template slot=\"append\">元</template>\n          </el-input>\n          <span>至</span>\n          <el-input @input=\"formatNum(form.price2, 'price2')\" v-model=\"form.price2\">\n            <template slot=\"append\">元</template>\n          </el-input>\n        </div>\n        <div v-else-if=\"form.price_type === 3\" class=\"le-small-input\">\n          <span>原价</span>\n          <el-input @input=\"formatNum(form.price, 'price')\" v-model=\"form.price\">\n            <template slot=\"append\">元</template>\n          </el-input>\n          <span>现价</span>\n          <el-input @input=\"formatNum(form.price2, 'price2')\" v-model=\"form.price2\">\n            <template slot=\"append\">元</template>\n          </el-input>\n        </div>\n      </el-form-item>\n    </el-form>\n    <div class=\"le-cardpin\">\n      <el-button type=\"primary\" :loading=\"loading\" @click=\"submit\">保存</el-button>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/javascript\">\nimport goodsSelect from '../../components/goodsSelet/index.vue';\n\nexport default {\n  components: {\n    goodsSelect\n  },\n  data() {\n    const checkGoodsId = (rule, value, callback) => {\n      if (isNaN(value)) {\n        callback('请输入正整数');\n      }\n      callback();\n    };\n    const checkPrice = (rule, value, callback) => {\n      if (value === 1) {\n        if (!this.form.price) {\n          callback('请输入商品价格');\n        }\n      } else if (value === 2) {\n        if (!this.form.price || !this.form.price2) {\n          callback('请输入商品价格');\n        }\n        if (this.form.price > this.form.price2) {\n          callback('请正确书写价格区间');\n        }\n      } else if (value === 3) {\n        if (!this.form.price || !this.form.price2) {\n          callback('请输入商品价格');\n        }\n      }\n      callback();\n    };\n    const checkGoodsName = (rule, value, callback) => {\n      if (value.length > 14) {\n        callback('商品名称最大为14字符');\n      }\n      callback();\n    };\n\n    const checkGoods = (rule, value, callback) => {\n      if (!value || Object.keys(value).length === 0) {\n        callback('请选择商品');\n      }\n      callback();\n    };\n    return {\n      is_show: null,\n      form: {\n        my_goods_id: null,\n        goods_name: '',\n        pic_url: '',\n        price_type: 1,\n        price: '',\n        price2: '',\n        page_url: '',\n        goods: {}\n      },\n      rules: {\n        my_goods_id: [{ validator: checkGoodsId, trigger: 'blur' }],\n        price_type: [\n          { required: true, message: '请输入商品价格', trigger: 'blur' },\n          { validator: checkPrice, trigger: 'blur' }\n        ],\n        pic_url: [{ required: true, message: '请添加商品封面', trigger: 'blur' }],\n        goods_name: [\n          { required: true, message: '请添加商品名称', trigger: 'blur' },\n          { validator: checkGoodsName, trigger: 'blur' }\n        ],\n        goods: [{ required: true, validator: checkGoods, trigger: 'blur' }]\n      },\n      loading: false\n    };\n  },\n  /**\n   * 计算属性\n   * @type {Object}\n   */\n  computed: {\n    disabledEdit() {\n      return this.$route.query.status && this.$route.query.status === '2';\n    }\n  },\n  /**\n   * 页面渲染前\n   * @return {[type]} [description]\n   */\n  created() {},\n  /**\n   * 数据监听\n   * @type {Object}\n   */\n  watch: {},\n  /**\n   * 页面加载执行\n   * @return {[type]} [description]\n   */\n  async mounted() {\n    const { goodsId } = this.$route.query;\n    if (goodsId) {\n      const storage = JSON.parse(localStorage.getItem('editLiveGood'));\n      console.log(storage);\n      this.form = storage;\n      if (!storage.is_show) this.is_show = true;\n      this.form = {\n        my_goods_id: null,\n        goods_name: storage.name,\n        pic_url: storage.cover_img_base64,\n        price_type: storage.price_type,\n        price: storage.price,\n        price2: storage.price2,\n        page_url: storage.new_url,\n        goods_id: storage.goods_id,\n        goods: storage.goods ? storage.goods : {}\n      };\n    }\n  },\n  methods: {\n    priceTypeChange() {\n      this.form.price = '';\n      this.form.price2 = '';\n      this.$refs['form'].clearValidate('price_type');\n    },\n    // 获取商品图片和名字\n    getGoodDetail() {\n      this.$refs.goodsSelect.handleClick();\n      // this.$refs[\"form\"].clearValidate();\n      // this.loading = true;\n      // this.$heshop.goods('get', parseInt(this.form.my_goods_id)).then(response => {\n      //   this.form.pic_url = response.slideshow[0];\n      //   this.form.goods_name = response.name;\n      //   this.form.page_url = this.form.my_goods_id;\n      //   if (response.name.length > 14) {\n      //     this.$refs['form'].validateField('goods_name');\n      //   }\n      //   this.loading = false;\n      // }).catch(error => {\n      //   this.loading = false;\n      //   this.$heshop.error(error.data.message);\n      // });\n    },\n    submit() {\n      this.$refs['form'].clearValidate();\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          this.loading = true;\n          const form = JSON.parse(JSON.stringify(this.form));\n          form.page_url = form.goods.id;\n          delete form.my_goods_id;\n          delete form.goods;\n          this.$heshop\n            .livegoods('post', form)\n            .then(() => {\n              this.loading = false;\n              this.$router.back();\n            })\n            .catch(error => {\n              this.loading = false;\n              this.$message.error(error.data.message);\n            });\n        }\n      });\n    },\n    formatNum(val, key) {\n      let temp = val.toString();\n      temp = temp.replace(/。/g, '.');\n      temp = temp.replace(/[^\\d.]/g, ''); //清除\"数字\"和\".\"以外的字符\n      temp = temp.replace(/^\\./g, ''); //验证第一个字符是数字\n      temp = temp.replace(/\\.{2,}/g, ''); //只保留第一个, 清除多余的\n      temp = temp.replace('.', '$#$').replace(/\\./g, '').replace('$#$', '.');\n      temp = temp.replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3'); //只能输入两个小数\n      this.form[key] = temp;\n    },\n    confirmGoods(val) {\n      this.form.goods_name = val.name;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped=\"true\">\n@import './../index.less';\n\n.le-main {\n  padding-top: 40px;\n}\n\n.el-radio-group {\n  margin-bottom: 5px;\n}\n\n.le-search--id::v-deep {\n  .el-input-group__append {\n    padding: 0 10px;\n  }\n}\n\n.le-still ::v-deep {\n  .select-cover__120-edit {\n    cursor: not-allowed !important;\n  }\n}\n\n.le-small-input::v-deep {\n  .el-input {\n    width: 150px;\n  }\n\n  > span {\n    display: inline-block;\n    font-size: 14px;\n    font-family: Microsoft YaHei;\n    font-weight: 400;\n    color: #595959;\n    padding: 0 9px;\n  }\n}\n\n.le-goods {\n  width: 580px;\n  height: 72px;\n  border: 1px solid #dcdfe6;\n  border-radius: 8px;\n  margin-top: 15px;\n  padding: 12px 24px;\n}\n\n.le-goods--image {\n  width: 48px;\n  height: 48px;\n}\n\n.le-goods--name {\n  font-size: 14px;\n  font-family: Microsoft YaHei;\n  font-weight: 400;\n  color: #262626;\n  line-height: 24px;\n  height: 48px;\n  margin-left: 24px;\n  margin-right: 20px;\n}\n\n::v-deep .el-button[disabled] {\n  color: #bfbfbf !important;\n  border: 1px solid #dcdfe6 !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addLiveGood.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addLiveGood.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addLiveGood.vue?vue&type=template&id=4b84cbbc&scoped=true&\"\nimport script from \"./addLiveGood.vue?vue&type=script&lang=js&\"\nexport * from \"./addLiveGood.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addLiveGood.vue?vue&type=style&index=0&id=4b84cbbc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b84cbbc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}