{"version":3,"sources":["webpack:///./src/pages/goods/image/group-style-C.png","webpack:///./src/pages/goods/groupPublish.vue?01ec","webpack:///src/pages/goods/groupPublish.vue","webpack:///./src/pages/goods/groupPublish.vue?eff6","webpack:///./src/pages/goods/groupPublish.vue","webpack:///./src/pages/goods/groupPublish.vue?b626","webpack:///./src/pages/goods/image/group-style-D.png","webpack:///./src/pages/goods/image/group-style-A.png","webpack:///./src/pages/goods/image/group-style-B.png"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","ruleForm","rules","model","value","callback","$$v","$set","expression","id","isParent","_e","staticStyle","goods_check","catObject","on","$event","deleteTag","_s","result","directives","name","rawName","modifiers","scopedSlots","_u","key","fn","scope","url","stopPropagation","e","icon","apply","arguments","slot","type","$route","query","parentShow","showGoods","class","goods_show","setStyle","groupStyle","save","staticRenderFns","data","sort","parent_id","image","parentList","styleA","styleB","styleC","styleD","cat","watch","handler","newVal","methods","parseInt","method","$heshop","$message","error","getDetail","getData","index","getGroup","console","log","computed","path","split","length","component"],"mappings":"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","file":"static/js/goods-group-publish.506dba86.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/group-style-C.556b2253.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"le-matter\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{staticClass:\"he-link\"},[_c('he-link',{attrs:{\"href\":\"goods/group\"}},[_vm._v(\" 商品分类 \")])],1),_c('el-breadcrumb-item',[_vm._v(\"添加分类\")])],1),_c('div',{staticClass:\"le-line\"}),_c('el-form',{attrs:{\"model\":_vm.ruleForm,\"label-width\":\"176px\",\"rules\":_vm.rules}},[_c('div',{staticClass:\"le-card-top\"},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"maxlength\":\"8\",\"show-word-limit\":\"\"},model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"上级分类\",\"prop\":\"isParent\"}},[_c('div',[_c('el-radio',{attrs:{\"disabled\":_vm.ruleForm.id ? true : false,\"label\":0},model:{value:(_vm.isParent),callback:function ($$v) {_vm.isParent=$$v},expression:\"isParent\"}},[_vm._v(\"无上级分类\")]),_c('p',{staticClass:\"he-tips\"},[_vm._v(\"选择无上级分类，则表明此分类为一级分类\")])],1),(!_vm.isParent)?_c('div',[_c('span',{staticStyle:{\"margin-right\":\"20px\"}},[_vm._v(\"子分类层级数\")]),_c('el-radio',{attrs:{\"disabled\":_vm.ruleForm.goods_check,\"label\":1},model:{value:(_vm.ruleForm.type),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"type\", $$v)},expression:\"ruleForm.type\"}},[_vm._v(\"一级\")]),_c('el-radio',{attrs:{\"disabled\":_vm.ruleForm.goods_check,\"label\":2},model:{value:(_vm.ruleForm.type),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"type\", $$v)},expression:\"ruleForm.type\"}},[_vm._v(\"二级\")]),_c('el-radio',{attrs:{\"disabled\":_vm.ruleForm.goods_check,\"label\":3},model:{value:(_vm.ruleForm.type),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"type\", $$v)},expression:\"ruleForm.type\"}},[_vm._v(\"三级\")])],1):_vm._e(),_c('div',[_c('el-radio',{attrs:{\"disabled\":_vm.ruleForm.id ? true : false,\"label\":1},model:{value:(_vm.isParent),callback:function ($$v) {_vm.isParent=$$v},expression:\"isParent\"}},[_vm._v(\"有上级分类\")]),(_vm.catObject.result)?_c('el-tag',{attrs:{\"size\":\"medium\",\"closable\":!_vm.ruleForm.id,\"type\":\"info\"},on:{\"close\":function($event){return _vm.deleteTag()}}},[_vm._v(\" \"+_vm._s(_vm.catObject.result.value)+\" \")]):_vm._e(),(!_vm.catObject.result)?_c('el-button',{directives:[{name:\"popup\",rawName:\"v-popup.chooseGroup\",value:(_vm.catObject),expression:\"catObject\",modifiers:{\"chooseGroup\":true}}],staticClass:\"le-select\",attrs:{\"disabled\":_vm.isParent === 0 || _vm.ruleForm.id ? true : false,\"title\":\"选择分类\",\"plain\":\"\",\"width\":\"562\",\"module\":\"goods\",\"action\":\"getGroup\"}},[_vm._v(\"选择分类 \")]):_vm._e(),_c('p',{staticClass:\"he-tips\"},[_vm._v(\"选择有上级分类，则表明此分类为选中分类的子分类\")]),_c('el-button',{directives:[{name:\"popup\",rawName:\"v-popup.groupManual\",modifiers:{\"groupManual\":true}}],staticClass:\"le-book\",attrs:{\"type\":\"text\",\"hide_cancel\":true,\"sure_btn\":\"我知道了\",\"title\":\"Leadshop微商城分类规则\",\"module\":\"goods\",\"width\":\"700\"}},[_vm._v(\"《必读手册》 \")])],1)]),_c('el-form-item',{attrs:{\"label\":\"排序\"}},[_c('el-input',{model:{value:(_vm.ruleForm.sort),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"sort\", $$v)},expression:\"ruleForm.sort\"}}),_c('p',{staticClass:\"he-tips\"},[_vm._v(\"字数越大，越靠前，不填写则默认为1\")])],1),_c('el-form-item',{attrs:{\"label\":\"分类图标\",\"prop\":\"icon\"}},[_c('div',{staticClass:\"select-cover__120\"},[_c('pictureDialog',{attrs:{\"limit\":1},scopedSlots:_vm._u([{key:\"preview\",fn:function(scope){return _c('div',{staticClass:\"select-cover__120-edit\"},[_c('el-image',{attrs:{\"src\":scope.url,\"fit\":\"cover\"}}),_c('div',{staticClass:\"select-cover__120-tips\"},[_c('span',[_vm._v(\"替换\")]),_vm._v(\" | \"),_c('span',{on:{\"click\":function($event){$event.stopPropagation();return (function (e) { return (_vm.ruleForm.icon = ''); }).apply(null, arguments)}}},[_vm._v(\"删除\")])])],1)}}]),model:{value:(_vm.ruleForm.icon),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"icon\", $$v)},expression:\"ruleForm.icon\"}},[_c('div',{staticClass:\"select-cover__120-add\",attrs:{\"slot\":\"upload\"},slot:\"upload\"},[_c('i',{staticClass:\"le-icon le-icon-add select-cover__120-icon\"}),_c('span',{staticClass:\"select-cover__120-text\"},[_vm._v(\"添加图片\")])])])],1),_c('p',{staticClass:\"he-tips\"},[_vm._v(\"建议尺寸：300*300像素\")])])],1),_c('div',{staticClass:\"le-line\"}),(\n        (_vm.ruleForm.type === 1 && _vm.isParent === 0) ||\n        (_vm.isParent === 1 && !_vm.$route.query.id && _vm.parentShow) ||\n        (_vm.isParent === 1 && _vm.showGoods)\n      )?_c('div',{staticClass:\"le-card flex le-style\"},[_c('div',{staticClass:\"le-left flex\"},[_c('div',{staticClass:\"le-label\"},[_vm._v(\"分类商品样式\")]),_c('div',{staticClass:\"le-value\"},[_c('div',{staticClass:\"le-select flex justify-center align-center\",class:_vm.ruleForm.goods_show == 0 ? 'le-select__active' : '',on:{\"click\":function($event){return _vm.setStyle(0)}}},[_c('he-icon',{staticClass:\"heicon\",attrs:{\"type\":\"le-icon-up-down\",\"size\":\"16px\"}}),_c('span',[_vm._v(\"一行一个\")])],1),_c('div',{staticClass:\"le-select flex justify-center align-center\",class:_vm.ruleForm.goods_show == 1 ? 'le-select__active' : '',on:{\"click\":function($event){return _vm.setStyle(1)}}},[_c('he-icon',{staticClass:\"heicon\",attrs:{\"type\":\"le-icon-orso\",\"size\":\"16px\"}}),_c('span',[_vm._v(\"一行两个\")])],1),_c('div',{staticClass:\"le-select flex justify-center align-center\",class:_vm.ruleForm.goods_show == 2 ? 'le-select__active' : '',on:{\"click\":function($event){return _vm.setStyle(2)}}},[_c('he-icon',{staticClass:\"heicon\",attrs:{\"type\":\"le-icon-combination\",\"size\":\"16px\"}}),_c('span',[_vm._v(\"一大两小\")])],1),_c('div',{staticClass:\"le-select flex justify-center align-center\",class:_vm.ruleForm.goods_show == 3 ? 'le-select__active' : '',on:{\"click\":function($event){return _vm.setStyle(3)}}},[_c('he-icon',{staticClass:\"heicon\",attrs:{\"type\":\"le-icon-columns\",\"size\":\"16px\"}}),_c('span',[_vm._v(\"左图右字\")])],1)])]),_c('div',[_c('img',{staticClass:\"he-preview\",attrs:{\"src\":_vm.groupStyle[_vm.ruleForm.goods_show],\"alt\":\"\"}})])]):_vm._e()]),_c('div',{staticClass:\"le-cardpin\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"le-matter\">\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item class=\"he-link\">\n        <he-link href=\"goods/group\"> 商品分类 </he-link>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>添加分类</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"le-line\"></div>\n    <el-form :model=\"ruleForm\" label-width=\"176px\" :rules=\"rules\">\n      <div class=\"le-card-top\">\n        <el-form-item label=\"分类名称\" prop=\"name\">\n          <el-input v-model=\"ruleForm.name\" maxlength=\"8\" show-word-limit></el-input>\n        </el-form-item>\n        <el-form-item label=\"上级分类\" prop=\"isParent\">\n          <div>\n            <el-radio :disabled=\"ruleForm.id ? true : false\" v-model=\"isParent\" :label=\"0\">无上级分类</el-radio>\n            <p class=\"he-tips\">选择无上级分类，则表明此分类为一级分类</p>\n          </div>\n          <div v-if=\"!isParent\">\n            <span style=\"margin-right: 20px\">子分类层级数</span>\n            <el-radio :disabled=\"ruleForm.goods_check\" v-model=\"ruleForm.type\" :label=\"1\">一级</el-radio>\n            <el-radio :disabled=\"ruleForm.goods_check\" v-model=\"ruleForm.type\" :label=\"2\">二级</el-radio>\n            <el-radio :disabled=\"ruleForm.goods_check\" v-model=\"ruleForm.type\" :label=\"3\">三级</el-radio>\n          </div>\n          <div>\n            <el-radio :disabled=\"ruleForm.id ? true : false\" v-model=\"isParent\" :label=\"1\">有上级分类</el-radio>\n            <el-tag size=\"medium\" @close=\"deleteTag()\" :closable=\"!ruleForm.id\" type=\"info\" v-if=\"catObject.result\">\n              {{ catObject.result.value }}\n            </el-tag>\n            <el-button\n              v-if=\"!catObject.result\"\n              :disabled=\"isParent === 0 || ruleForm.id ? true : false\"\n              title=\"选择分类\"\n              class=\"le-select\"\n              plain\n              v-popup.chooseGroup=\"catObject\"\n              width=\"562\"\n              module=\"goods\"\n              action=\"getGroup\"\n              >选择分类\n            </el-button>\n            <p class=\"he-tips\">选择有上级分类，则表明此分类为选中分类的子分类</p>\n            <el-button\n              type=\"text\"\n              class=\"le-book\"\n              :hide_cancel=\"true\"\n              sure_btn=\"我知道了\"\n              title=\"Leadshop微商城分类规则\"\n              module=\"goods\"\n              v-popup.groupManual\n              width=\"700\"\n              >《必读手册》\n            </el-button>\n          </div>\n        </el-form-item>\n        <el-form-item label=\"排序\">\n          <el-input v-model=\"ruleForm.sort\"></el-input>\n          <p class=\"he-tips\">字数越大，越靠前，不填写则默认为1</p>\n        </el-form-item>\n        <el-form-item label=\"分类图标\" prop=\"icon\">\n          <div class=\"select-cover__120\">\n            <pictureDialog v-model=\"ruleForm.icon\" :limit=\"1\">\n              <div slot=\"upload\" class=\"select-cover__120-add\">\n                <i class=\"le-icon le-icon-add select-cover__120-icon\"></i>\n                <span class=\"select-cover__120-text\">添加图片</span>\n              </div>\n              <div slot=\"preview\" slot-scope=\"scope\" class=\"select-cover__120-edit\">\n                <el-image :src=\"scope.url\" fit=\"cover\"></el-image>\n                <div class=\"select-cover__120-tips\">\n                  <span>替换</span> |\n                  <span @click.stop=\"e => (ruleForm.icon = '')\">删除</span>\n                </div>\n              </div>\n            </pictureDialog>\n          </div>\n          <p class=\"he-tips\">建议尺寸：300*300像素</p>\n        </el-form-item>\n      </div>\n      <div class=\"le-line\"></div>\n      <div\n        class=\"le-card flex le-style\"\n        v-if=\"\n          (ruleForm.type === 1 && isParent === 0) ||\n          (isParent === 1 && !$route.query.id && parentShow) ||\n          (isParent === 1 && showGoods)\n        \"\n      >\n        <div class=\"le-left flex\">\n          <div class=\"le-label\">分类商品样式</div>\n          <div class=\"le-value\">\n            <div\n              class=\"le-select flex justify-center align-center\"\n              @click=\"setStyle(0)\"\n              :class=\"ruleForm.goods_show == 0 ? 'le-select__active' : ''\"\n            >\n              <he-icon class=\"heicon\" type=\"le-icon-up-down\" size=\"16px\"></he-icon>\n              <span>一行一个</span>\n            </div>\n            <div\n              class=\"le-select flex justify-center align-center\"\n              @click=\"setStyle(1)\"\n              :class=\"ruleForm.goods_show == 1 ? 'le-select__active' : ''\"\n            >\n              <he-icon class=\"heicon\" type=\"le-icon-orso\" size=\"16px\"></he-icon>\n              <span>一行两个</span>\n            </div>\n            <div\n              class=\"le-select flex justify-center align-center\"\n              @click=\"setStyle(2)\"\n              :class=\"ruleForm.goods_show == 2 ? 'le-select__active' : ''\"\n            >\n              <he-icon class=\"heicon\" type=\"le-icon-combination\" size=\"16px\"></he-icon>\n              <span>一大两小</span>\n            </div>\n            <div\n              class=\"le-select flex justify-center align-center\"\n              @click=\"setStyle(3)\"\n              :class=\"ruleForm.goods_show == 3 ? 'le-select__active' : ''\"\n            >\n              <he-icon class=\"heicon\" type=\"le-icon-columns\" size=\"16px\"></he-icon>\n              <span>左图右字</span>\n            </div>\n          </div>\n        </div>\n        <div>\n          <img class=\"he-preview\" :src=\"groupStyle[ruleForm.goods_show]\" alt=\"\" />\n        </div>\n      </div>\n    </el-form>\n    <div class=\"le-cardpin\">\n      <el-button @click=\"save\" type=\"primary\">保存</el-button>\n    </div>\n  </div>\n</template>\n<script type=\"text/javascript\">\nconst styleA = require('./image/group-style-A.png');\nconst styleB = require('./image/group-style-B.png');\nconst styleC = require('./image/group-style-C.png');\nconst styleD = require('./image/group-style-D.png');\nexport default {\n  name: 'groupPublish',\n  data() {\n    return {\n      ruleForm: {\n        sort: 1,\n        parent_id: 0,\n        name: '',\n        icon: '',\n        image: '',\n        goods_show: 0,\n        id: null,\n        type: 1\n      },\n      isParent: 0,\n      parentList: [],\n      rules: {\n        name: [{ required: true, message: '请输入分类名称', trigger: 'blur' }],\n        icon: [{ required: true, message: '请选择分类图标', trigger: 'change' }],\n        isParent: [{ required: true, message: '请选择上级分类', trigger: 'change' }],\n        goods_show: [{ required: true, trigger: 'change' }]\n      },\n      groupStyle: [styleA, styleB, styleC, styleD],\n      catObject: {\n        cat: [],\n        result: null\n      },\n      parentShow: true\n    };\n  },\n  watch: {\n    'catObject.result': {\n      handler(newVal) {\n        if (newVal) {\n          this.ruleForm.parent_id = newVal.id;\n        } else {\n          this.ruleForm.parent_id = 0;\n        }\n      }\n    }\n  },\n  async mounted() {\n    if (this.$route.query.id) this.getDetail(parseInt(this.$route.query.id));\n    this.getData();\n    console.log(this.$route.query.id);\n  },\n  methods: {\n    save() {\n      let url = { include: 'goods' };\n      let method = undefined;\n      if (this.ruleForm.id) {\n        url.id = parseInt(this.ruleForm.id);\n        method = 'put';\n      } else {\n        method = 'post';\n      }\n      let data = this.$heshop.utils.deepClone(this.ruleForm);\n      // data.icon = data.icon;\n      //v1.1.5 修复上级分类不能为空的提示\n      if (this.isParent == 1) {\n        if (!this.catObject.result) {\n          this.$message.error('上级分类不能为空');\n          return;\n        }\n      }\n      this.$heshop\n        .group(method, url, data)\n        .then(() => {\n          this.$message.success('保存成功');\n          this.$router.back();\n        })\n        .catch(err => {\n          if (err.data[0]) {\n            this.$message.error(err.data[0].message);\n          } else {\n            this.$message.error(err.data.message);\n          }\n        });\n    },\n    deleteTag() {\n      this.catObject.result = null;\n    },\n    getDetail(id) {\n      this.$heshop\n        .group('get', id, { include: 'goods' })\n        .then(res => {\n          if (res.parent_id > 0) {\n            this.isParent = 1;\n            this.getData();\n          }\n          this.ruleForm = res;\n        })\n        .catch(err => {\n          this.$message.error(err.data.message);\n        });\n    },\n    getData() {\n      this.$heshop\n        .group('get', { include: 'goods' })\n        .then(res => {\n          let data = this.$heshop\n            .toTree({\n              parentKey: 'parent_id',\n              idKey: 'id',\n              parentId: 0,\n              childrenKey: 'children'\n            })\n            .on(res)\n            .get();\n          data.forEach(cat1 => {\n            cat1.value = cat1.name;\n            this.parentList.push(cat1);\n            if (cat1.children) {\n              cat1.children.forEach(cat2 => {\n                cat2.type = cat1.type;\n                cat2.value = `${cat1.value} > ${cat2.name}`;\n                this.parentList.push(cat2);\n                if (cat2.children) {\n                  cat2.children.forEach(cat3 => {\n                    this.parentList.push(cat3);\n                    cat3.value = `${cat2.value} > ${cat3.name}`;\n                  });\n                }\n              });\n            }\n          });\n          this.parentList.forEach(item => {\n            if (item.id === this.ruleForm.parent_id) {\n              this.catObject.result = item;\n            }\n          });\n        })\n        .catch(err => {\n          this.$message.error(err.data.message);\n        });\n    },\n\n    setStyle: function (index) {\n      this.ruleForm.goods_show = index;\n    },\n    getGroup: function (data) {\n      let { type, path } = data.result;\n      if ((type === 3 && path.split('-').length == 2) || type !== 3) {\n        console.log('无自己');\n        this.parentShow = true;\n      } else {\n        this.parentShow = false;\n      }\n    }\n  },\n  computed: {\n    showGoods: function () {\n      if (this.$route.query.id) {\n        if (this.ruleForm.path.split('-').length === this.ruleForm.type) {\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped=\"true\">\n.he-link {\n  font-weight: bold;\n  transition: color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\n  color: #303133;\n  text-decoration: none;\n  cursor: pointer;\n}\n\n.he-tips {\n  font-size: 12px;\n  font-weight: 500;\n  color: #000000;\n  opacity: 0.45;\n  margin: 0;\n}\n\n.he-link {\n  font-size: 12px;\n  font-weight: 500;\n  color: #623ceb;\n  margin-left: 8px;\n  opacity: 1;\n}\n\n.he-button {\n  border: 1px solid #dcdfe6;\n  color: #dcdfe6;\n  margin: 0 0 16px 8px;\n\n  .heicon {\n    margin-right: 5px;\n  }\n}\n\n.primary-but {\n  border: 1px solid #623ceb;\n  color: #623ceb;\n  background-color: #fff;\n}\n\n.he-preview {\n  width: 330px;\n  height: 765px;\n  background: #ffffff;\n  border-radius: 40px;\n  margin-left: 24px;\n}\n\n.he-upload {\n  width: 120px;\n  height: 120px;\n  border-radius: 4px;\n}\n\n.le-card {\n  height: 845px;\n  background: #ffffff;\n  border-radius: 16px;\n}\n\n.le-style {\n  padding-top: 40px;\n\n  .le-left {\n    padding-left: 65px;\n    width: 310px;\n    height: 100%;\n\n    .le-label {\n      font-size: 14px;\n      font-family: PingFang SC;\n      font-weight: 500;\n      color: rgba(51, 51, 51, 0.85);\n      line-height: 44px;\n    }\n\n    .le-label:before {\n      content: '*';\n      color: #f5212d;\n    }\n\n    .le-value {\n      margin-left: 16px;\n    }\n\n    .le-select__active {\n      border-color: #623ceb !important;\n\n      span {\n        color: #623ceb !important;\n      }\n\n      svg {\n        color: #623ceb !important;\n      }\n    }\n\n    .le-select {\n      cursor: pointer;\n      width: 108px;\n      height: 40px;\n      background: #ffffff;\n      border-radius: 4px;\n      margin-bottom: 16px;\n      border-color: #dcdfe6;\n      border-style: solid;\n      border-width: 1px;\n\n      span {\n        color: #333333;\n        font-size: 14px;\n        font-family: PingFang SC;\n        font-weight: 500;\n        opacity: 0.65;\n        margin-left: 6px;\n      }\n\n      svg {\n        color: #bebebe;\n        margin-right: 6px;\n      }\n    }\n  }\n}\n\n.le-card-top {\n  background: #ffffff;\n  border-radius: 16px;\n  padding: 40px 0;\n}\n\n.le-select[disabled] {\n  border: 1px solid #dcdfe6 !important;\n  color: #bfbfbf !important;\n}\n\n.le-book {\n  padding-left: 0;\n  padding-right: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groupPublish.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groupPublish.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./groupPublish.vue?vue&type=template&id=4ea95c84&scoped=true&\"\nimport script from \"./groupPublish.vue?vue&type=script&lang=js&\"\nexport * from \"./groupPublish.vue?vue&type=script&lang=js&\"\nimport style0 from \"./groupPublish.vue?vue&type=style&index=0&id=4ea95c84&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ea95c84\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./groupPublish.vue?vue&type=style&index=0&id=4ea95c84&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"static/img/group-style-D.6d9462c8.png\";","module.exports = __webpack_public_path__ + \"static/img/group-style-A.8c35c1f2.png\";","module.exports = __webpack_public_path__ + \"static/img/group-style-B.2fce5f6e.png\";"],"sourceRoot":""}