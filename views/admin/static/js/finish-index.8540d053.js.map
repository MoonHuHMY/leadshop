{"version":3,"sources":["webpack:///./src/pages/pages/index.vue?383d","webpack:///./src/pages/pages/index.vue?6399","webpack:///src/pages/pages/index.vue","webpack:///./src/pages/pages/index.vue?a393","webpack:///./src/pages/pages/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","staticStyle","_v","tableData","scopedSlots","_u","key","fn","scope","_s","row","title","_e","dateFormat","path","query","id","status","on","$event","handleDelete","directives","name","rawName","value","data","promoteType","expression","modifiers","handleDefault","pageInfo","total","size","current","handlePageChange","staticRenderFns","component"],"mappings":"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","file":"static/js/finish-index.8540d053.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=238bab5d&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout-page\"},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('templateSelect',{staticStyle:{\"margin\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"新建微页面\")])],1)],1),_c('div',{staticClass:\"layout-page-body\"},[[_c('el-table',{attrs:{\"data\":_vm.tableData,\"size\":\"medium\"}},[_c('el-table-column',{attrs:{\"label\":\"名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.title)+\" \"),(scope.row.status)?_c('span',{staticClass:\"layout-table-tag\"},[_vm._v(\"首页\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"created_time\",\"label\":\"创建时间\",\"formatter\":_vm.dateFormat}}),_c('el-table-column',{staticClass:\"layout-table-action\",attrs:{\"label\":\"操作\",\"width\":\"260\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{staticClass:\"layout-table-link\",attrs:{\"to\":{path:'/package/index',query:{id:scope.row.id}},\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"}},[_vm._v(\"编辑\")])],1),(!scope.row.status)?_c('span',{staticClass:\"layout-table-line\"},[_vm._v(\"|\")]):_vm._e(),(!scope.row.status)?_c('popconfirm',{attrs:{\"width\":\"320px\"},on:{\"confirm\":function($event){return _vm.handleDelete(scope.row)}}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"}},[_vm._v(\"删除\")])],1):_vm._e(),_c('span',{staticClass:\"layout-table-line\"},[_vm._v(\"|\")]),_c('el-button',{directives:[{name:\"popup\",rawName:\"v-popup.promote\",value:({\n                                            data: scope.row,\n                                            promoteType: 'pages'\n                                   }),expression:\"{\\n                                            data: scope.row,\\n                                            promoteType: 'pages'\\n                                   }\",modifiers:{\"promote\":true}}],staticStyle:{\"margin\":\"0 5px\"},attrs:{\"type\":\"text\",\"size\":\"medium\",\"module\":\"goods\",\"title\":\"推广\",\"hide_footer\":true,\"id\":scope.row.id,\"width\":\"791\"}},[_vm._v(\"推广\")]),(!scope.row.status)?_c('span',{staticClass:\"layout-table-line\"},[_vm._v(\"|\")]):_vm._e(),(!scope.row.status)?_c('popconfirm',{attrs:{\"width\":\"320px\",\"title\":\"确认设置该微页面为首页？\"},on:{\"confirm\":function($event){return _vm.handleDefault(scope.row)}}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"}},[_vm._v(\"设为首页\")])],1):_vm._e()]}}])})],1),_c('div',{staticClass:\"layout-table-paging\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next,jumper\",\"total\":_vm.pageInfo.total,\"page-size\":_vm.pageInfo.size,\"current-page\":_vm.pageInfo.current},on:{\"current-change\":_vm.handlePageChange}})],1)]],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"layout-page\">\n        <el-card>\n            <div slot=\"header\" class=\"clearfix\">\n                <templateSelect style=\"margin: 0\">\n                    <el-button type=\"primary\">新建微页面</el-button>\n                </templateSelect>\n            </div>\n            <div class=\"layout-page-body\">\n                <template>\n                    <el-table :data=\"tableData\" size=\"medium\">\n                        <el-table-column label=\"名称\">\n                            <template slot-scope=\"scope\">\n                                {{scope.row.title}}\n                                <span class=\"layout-table-tag\" v-if=\"scope.row.status\">首页</span>\n                            </template>\n                        </el-table-column>\n                        <!-- <el-table-column prop=\"goods_number\" label=\"商品数\" width=\"180\">\n                        </el-table-column>\n                        <el-table-column label=\"浏览人数/浏览人次\">\n                            <template slot-scope=\"scope\">\n                                {{scope.row.visitor_number}}/{{scope.row.visit_number}}\n                            </template>\n                        </el-table-column> -->\n                        <el-table-column prop=\"created_time\" label=\"创建时间\" :formatter=\"dateFormat\">\n                        </el-table-column>\n                        <el-table-column label=\"操作\" width=\"260\" class=\"layout-table-action\">\n                            <template slot-scope=\"scope\">\n                                <router-link :to=\"{path:'/package/index',query:{id:scope.row.id}}\" target=\"_blank\" class=\"layout-table-link\">\n                                    <el-button type=\"text\" size=\"medium\">编辑</el-button>\n                                </router-link>\n                                <span class=\"layout-table-line\" v-if=\"!scope.row.status\">|</span>\n                                <popconfirm width=\"320px\" @confirm=\"handleDelete(scope.row)\" v-if=\"!scope.row.status\">\n                                    <el-button type=\"text\" size=\"medium\">删除</el-button>\n                                </popconfirm>\n                                <span class=\"layout-table-line\">|</span>\n                                <el-button type=\"text\" style=\"margin: 0 5px;\" size=\"medium\" module=\"goods\" title=\"推广\" :hide_footer=\"true\" :id=\"scope.row.id\" v-popup.promote=\"{\n                                                data: scope.row,\n                                                promoteType: 'pages'\n                                       }\" width=\"791\">推广</el-button>\n                                <span class=\"layout-table-line\" v-if=\"!scope.row.status\">|</span>\n                                <popconfirm width=\"320px\" @confirm=\"handleDefault(scope.row)\" title=\"确认设置该微页面为首页？\" v-if=\"!scope.row.status\">\n                                    <el-button type=\"text\" size=\"medium\">设为首页</el-button>\n                                </popconfirm>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                    <div class=\"layout-table-paging\">\n                        <el-pagination @current-change=\"handlePageChange\" background layout=\"prev, pager, next,jumper\" :total=\"pageInfo.total\" :page-size=\"pageInfo.size\" :current-page=\"pageInfo.current\"></el-pagination>\n                    </div>\n                </template>\n            </div>\n        </el-card>\n    </div>\n</template>\n<script type=\"text/javascript\">\nimport popconfirm from '@/components/popconfirm.vue'\nimport promotion from '@/components/promotion'\nimport templateSelect from '@/components/templateSelect'\nexport default {\n    components: {\n        popconfirm,\n        promotion,\n        templateSelect\n    },\n    data() {\n        return {\n            tableData: [],\n            pageInfo: {\n                size: 20,\n                total: 0,\n                current: 1\n            },\n            fullHeight: document.documentElement.clientHeight\n        };\n    },\n    /**\n     * 计算属性\n     * @type {Object}\n     */\n    computed: {\n        scrollHeight() {\n            return {\n                height: (parseInt(this.fullHeight) - 65) + 'px'\n            }\n        }\n    },\n    /**\n     * 数据监听\n     * @type {Object}\n     */\n    watch: {\n\n    },\n    /**\n     * 页面加载执行\n     * @return {[type]} [description]\n     */\n    mounted() {\n        let that = this;\n        //监听页面大小\n        window.onresize = () => {\n            return (() => {\n                window.fullHeight = document.documentElement.clientHeight\n                that.fullHeight = window.fullHeight;\n            })()\n        }\n        this.handleLoadData();\n    },\n    methods: {\n        /**\n         * 格式化时间\n         * @param  {[type]} row    [description]\n         * @param  {[type]} column [description]\n         * @return {[type]}        [description]\n         */\n        dateFormat(row, column) {\n            var date = row[column.property];\n            if (date === undefined) {\n                return ''\n            }\n            return this.$moment(date * 1000).format(\"YYYY-MM-DD HH:mm:ss\")\n        },\n        /**\n         * 执行删除事件\n         * @return {[type]} [description]\n         */\n        handleDelete(data) {\n            this.$heshop.pages(\"delete\", parseInt(data.id)).page(this.pageInfo.current, this.pageInfo.size).then(data => {\n                this.$message({\n                    title: '删除成功',\n                    message: '成功删除微页面',\n                    type: 'success'\n                });\n                this.handleLoadData();\n            }).catch(error => {\n                console.error(\"错误信息\", error);\n            })\n        },\n        /**\n         * 执行删除事件\n         * @return {[type]} [description]\n         */\n        handleDefault(data) {\n            data.status = 1;\n            this.$heshop.pages(\"put\", { id: data.id, behavior: 'setting' }, data).then(data => {\n                this.$message({\n                    title: '设置成功',\n                    message: '成功设置该微页面为首页',\n                    type: 'success'\n                });\n                this.handleLoadData();\n            }).catch(error => {\n                console.error(\"错误信息\", error);\n            })\n        },\n        /**\n         * 加载数据信息\n         * @return {[type]} [description]\n         */\n        handleLoadData() {\n            this.$heshop.pages(\"get\").page(this.pageInfo.current, this.pageInfo.size).then(data => {\n                this.pageInfo = {\n                    size: parseInt(data.headers['x-pagination-per-page']),\n                    total: parseInt(data.headers['x-pagination-total-count']),\n                    current: parseInt(data.headers['x-pagination-current-page'])\n                }\n                this.tableData = data.data;\n            }).catch(error => {\n                console.error(\"错误信息\", error);\n            })\n        },\n        handlePageChange(value) {\n            this.pageInfo.current = value;\n            this.handleLoadData();\n        }\n    }\n};\n</script>\n<style lang=\"less\" scoped>\n@import '../../components/layout.less';\n@import './style.less';\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=238bab5d&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=238bab5d&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"238bab5d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}