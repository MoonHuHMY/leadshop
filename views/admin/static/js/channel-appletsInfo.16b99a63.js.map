{"version":3,"sources":["webpack:///./node_modules/js-file-download/file-download.js","webpack:///./src/pages/channel/applets-info.vue?9f4d","webpack:///src/pages/channel/applets-info.vue","webpack:///./src/pages/channel/applets-info.vue?2906","webpack:///./src/pages/channel/applets-info.vue","webpack:///./src/assets/images/le-upload-applets.gif","webpack:///./src/pages/channel/applets-info.vue?9a47"],"names":["module","exports","data","filename","mime","bom","blobData","blob","Blob","type","window","navigator","msSaveBlob","blobURL","URL","createObjectURL","webkitURL","tempLink","document","createElement","style","display","href","setAttribute","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_e","bind","isBind","_v","attrs","on","goBind","toBind","ref","rules","form","model","value","callback","$$v","$set","expression","isPay","_s","name","directives","rawName","modifiers","staticStyle","enable_live","$event","AppID","AppSecret","save","staticRenderFns","qrcode","uploadLoading","methods","$refs","formName","validate","valid","getForm","$heshop","getCode","mounted","component"],"mappings":"wGAAAA,EAAOC,QAAU,SAASC,EAAMC,EAAUC,EAAMC,GAC5C,IAAIC,EAA2B,qBAARD,EAAuB,CAACA,EAAKH,GAAQ,CAACA,GACzDK,EAAO,IAAIC,KAAKF,EAAU,CAACG,KAAML,GAAQ,6BAC7C,GAA2C,qBAAhCM,OAAOC,UAAUC,WAKxBF,OAAOC,UAAUC,WAAWL,EAAMJ,OAEjC,CACD,IAAIU,EAAWH,OAAOI,KAAOJ,OAAOI,IAAIC,gBAAmBL,OAAOI,IAAIC,gBAAgBR,GAAQG,OAAOM,UAAUD,gBAAgBR,GAC3HU,EAAWC,SAASC,cAAc,KACtCF,EAASG,MAAMC,QAAU,OACzBJ,EAASK,KAAOT,EAChBI,EAASM,aAAa,WAAYpB,GAMD,qBAAtBc,EAASO,UAChBP,EAASM,aAAa,SAAU,UAGpCL,SAASO,KAAKC,YAAYT,GAC1BA,EAASU,QAGTC,YAAW,WACPV,SAASO,KAAKI,YAAYZ,GAC1BP,OAAOI,IAAIgB,gBAAgBjB,KAC5B,Q,oEChCX,IAAIkB,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAAEN,EAAiB,cAAEI,EAAG,MAAM,CAACE,YAAY,sDAAsD,CAACN,EAAIO,GAAG,KAAKP,EAAIQ,KAAOR,EAAIS,MAAST,EAAIU,OAAoVV,EAAIQ,KAAhVJ,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,qDAAqD,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiBF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACN,EAAIW,GAAG,WAAWX,EAAIO,GAAG,GAAGH,EAAG,YAAY,CAACE,YAAY,cAAcM,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQb,EAAIc,SAAS,CAACd,EAAIW,GAAG,WAAW,KAAgBX,EAAIS,OAAST,EAAIU,QAAWV,EAAIe,OAAQX,EAAG,UAAU,CAACY,IAAI,OAAOV,YAAY,UAAUM,MAAM,CAAC,MAAQZ,EAAIiB,MAAM,MAAQjB,EAAIkB,KAAK,cAAc,UAAU,CAACd,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,OAAO,CAACE,YAAY,WAAWF,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIW,GAAG,eAAeP,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQ,UAAU,CAACR,EAAG,WAAW,CAACQ,MAAM,CAAC,YAAc,YAAYO,MAAM,CAACC,MAAOpB,EAAIkB,KAAS,KAAEG,SAAS,SAAUC,GAAMtB,EAAIuB,KAAKvB,EAAIkB,KAAM,OAAQI,IAAME,WAAW,gBAAgB,GAAGpB,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQ,QAAQ,KAAO,UAAU,CAACR,EAAG,WAAW,CAACQ,MAAM,CAAC,YAAc,YAAYO,MAAM,CAACC,MAAOpB,EAAIkB,KAAU,MAAEG,SAAS,SAAUC,GAAMtB,EAAIuB,KAAKvB,EAAIkB,KAAM,QAASI,IAAME,WAAW,iBAAiB,GAAGpB,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQ,YAAY,KAAO,cAAc,CAACR,EAAG,WAAW,CAACQ,MAAM,CAAC,YAAc,gBAAgBO,MAAM,CAACC,MAAOpB,EAAIkB,KAAc,UAAEG,SAAS,SAAUC,GAAMtB,EAAIuB,KAAKvB,EAAIkB,KAAM,YAAaI,IAAME,WAAW,qBAAqB,IAAI,GAAGxB,EAAIQ,KAAMR,EAAIU,SAAWV,EAAIe,OAAQ,CAACX,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAAGN,EAAIyB,MAAuQzB,EAAIQ,KAApQJ,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIW,GAAG,+BAA+BP,EAAG,UAAU,CAACQ,MAAM,CAAC,KAAO,wBAAwB,CAACR,EAAG,YAAY,CAACE,YAAY,SAASM,MAAM,CAAC,KAAO,YAAY,CAACZ,EAAIW,GAAG,WAAW,IAAI,GAAYP,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIW,GAAG,WAAWP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIW,GAAGX,EAAI0B,GAAG1B,EAAIkB,KAAKS,WAAWvB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIW,GAAG,UAAUP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACwB,WAAW,CAAC,CAACD,KAAK,QAAQE,QAAQ,uBAAuBT,MAAOpB,EAAU,OAAEwB,WAAW,SAASM,UAAU,CAAC,cAAe,KAAQxB,YAAY,oBAAoBM,MAAM,CAAC,MAAQ,MAAM,MAAQ,SAAS,aAAc,EAAK,SAAW,QAAQ,OAAS,YAAY,CAACZ,EAAIW,GAAG,cAAcP,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIW,GAAG,2BAA2BP,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIW,GAAG,UAAUP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACA,EAAG,OAAO,CAAC2B,YAAY,CAAC,eAAe,SAAS,CAAC/B,EAAIW,GAAG,gBAAgBP,EAAG,iBAAiB,CAACe,MAAM,CAACC,MAAOpB,EAAe,YAAEqB,SAAS,SAAUC,GAAMtB,EAAIgC,YAAYV,GAAKE,WAAW,gBAAgB,CAACpB,EAAG,WAAW,CAACQ,MAAM,CAAC,MAAQ,IAAI,CAACZ,EAAIW,GAAG,SAASP,EAAG,WAAW,CAACQ,MAAM,CAAC,MAAQ,IAAI,CAACZ,EAAIW,GAAG,UAAU,IAAI,GAAGX,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,YAAY,CAAC2B,YAAY,CAAC,QAAU,SAASnB,MAAM,CAAC,KAAO,QAAQC,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOjC,EAAIR,cAAc,CAACQ,EAAIW,GAAG,aAAa,SAASP,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIW,GAAG,WAAWP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIW,GAAGX,EAAI0B,GAAG1B,EAAIkB,KAAKgB,YAAY9B,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIW,GAAG,eAAeP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIW,GAAGX,EAAI0B,GAAG1B,EAAIkB,KAAKiB,gBAAgB/B,EAAG,YAAY,CAACE,YAAY,YAAYM,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASoB,GAAQjC,EAAIe,QAAS,KAAQ,CAACf,EAAIW,GAAG,aAAa,MAAMX,EAAIQ,KAAOR,EAAIS,OAAST,EAAIU,QAAWV,EAAIe,OAAQX,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOjC,EAAIoC,KAAK,WAAW,CAACpC,EAAIW,GAAG,SAAS,GAAGX,EAAIQ,MAAM,IAC7hI6B,EAAkB,CAAC,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgBM,MAAM,CAAC,IAAM,EAAQ,WAAgDR,EAAG,MAAM,CAACJ,EAAIW,GAAG,eAAe,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIW,GAAG,oBAAoBP,EAAG,MAAMJ,EAAIW,GAAG,wBAAwB,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,OAAO,CAACE,YAAY,WAAWF,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIW,GAAG,aAAa,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIW,GAAG,mCAAmCP,EAAG,MAAMJ,EAAIW,GAAG,SAASP,EAAG,OAAO,CAAC2B,YAAY,CAAC,MAAQ,YAAY,CAAC/B,EAAIW,GAAG,sBAAsBX,EAAIW,GAAG,cAAc,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,OAAO,CAACE,YAAY,WAAWF,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIW,GAAG,c,qBCqI9rC,GACEgB,KAAM,eACNzD,KAFF,WAGI,MAAO,CACLuC,MAAM,EACNM,QAAQ,EACRE,MAAO,CACLiB,MAAO,CAAC,CAAhB,gDACQC,UAAW,CACnB,CAAU,UAAV,EAAU,QAAV,eAAU,QAAV,UAGMjB,KAAM,CACJS,KAAM,GACNO,MAAO,GACPC,UAAW,IAEbV,OAAO,EACPf,QAAQ,EACR4B,OAAQ,GACRC,eAAe,EACfP,YAAa,IAGjBQ,QAAS,CACP1B,OAAQ,WACNb,KAAKQ,MAAO,GAEd2B,KAAM,SAAV,cACMnC,KAAKwC,MAAMC,GAAUC,UAAS,SAApC,GACYC,GACF,EAAV,QACA,UACA,OACA,CACY,SAAZ,OACY,IAAZ,eAEA,QAEA,iBACY,EAAZ,SACc,MAAd,OACc,QAAd,aACc,KAAd,YAEY,EAAZ,UACY,EAAZ,QACY,EAAZ,aAEA,mBACY,EAAZ,sCAKIC,QAAS,WAAb,WACM5C,KAAK6C,QACX,iBACA,kBACQ,EAAR,mBACQ,EAAR,6BACQ,EAAR,gCAEA,mBACQ,EAAR,mCAGIC,QAAS,WAAb,WACM9C,KAAK6C,QACX,eACA,kBACQ,EAAR,wBAEA,mBACQ,EAAR,mCAGItD,SAAU,WAAd,WACMS,KAAKsC,eAAgB,EACrBtC,KAAK6C,QAAQtD,SAAS,CACpBwC,YAAa/B,KAAK+B,cAC1B,kBAEQ,YAAR,WACU,EAAV,mBACA,KACQ,IAAR,kBAEA,mBACQ,QAAR,cAIEgB,QA9FF,WA+FI/C,KAAK4C,UACL5C,KAAK8C,YCtO4V,I,wBCQjWE,EAAY,eACd,EACAlD,EACAsC,GACA,EACA,KACA,WACA,MAIa,aAAAY,E,8BCnBfjF,EAAOC,QAAU,IAA0B,6C,kCCA3C","file":"static/js/channel-appletsInfo.16b99a63.js","sourcesContent":["module.exports = function(data, filename, mime, bom) {\n    var blobData = (typeof bom !== 'undefined') ? [bom, data] : [data]\n    var blob = new Blob(blobData, {type: mime || 'application/octet-stream'});\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n        // IE workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n    }\n    else {\n        var blobURL = (window.URL && window.URL.createObjectURL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.style.display = 'none';\n        tempLink.href = blobURL;\n        tempLink.setAttribute('download', filename);\n\n        // Safari thinks _blank anchor are pop ups. We only want to set _blank\n        // target if the browser does not support the HTML5 download attribute.\n        // This allows you to download files in desktop safari if pop up blocking\n        // is enabled.\n        if (typeof tempLink.download === 'undefined') {\n            tempLink.setAttribute('target', '_blank');\n        }\n\n        document.body.appendChild(tempLink);\n        tempLink.click();\n\n        // Fixes \"webkit blob resource error 1\"\n        setTimeout(function() {\n            document.body.removeChild(tempLink);\n            window.URL.revokeObjectURL(blobURL);\n        }, 200)\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"le-matter\"},[(_vm.uploadLoading)?_c('div',{staticClass:\"le-upload-loading flex align-center justify-center\"},[_vm._m(0)]):_vm._e(),(!_vm.bind && !_vm.isBind)?_c('div',{staticClass:\"le-bind\"},[_c('div',{staticClass:\"le-bind__content flex flex-direction align-center\"},[_c('div',{staticClass:\"le-bind-logo\"}),_c('div',{staticClass:\"le-bind-name\"},[_vm._v(\"微信小程序\")]),_vm._m(1),_c('el-button',{staticClass:\"le-bind-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goBind}},[_vm._v(\"立即绑定\")])],1)]):_vm._e(),((_vm.bind && !_vm.isBind) || _vm.toBind)?_c('el-form',{ref:\"bind\",staticClass:\"le-form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"180px\"}},[_c('div',{staticClass:\"le-form__header flex align-center\"},[_c('span',{staticClass:\"le-tip\"}),_c('span',{staticClass:\"le-text\"},[_vm._v(\"填写小程序信息\")])]),_c('el-form-item',{attrs:{\"label\":\"小程序名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入小程序名称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"AppID\",\"prop\":\"AppID\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入AppID\"},model:{value:(_vm.form.AppID),callback:function ($$v) {_vm.$set(_vm.form, \"AppID\", $$v)},expression:\"form.AppID\"}})],1),_c('el-form-item',{attrs:{\"label\":\"AppSecret\",\"prop\":\"AppSecret\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入AppSecret\"},model:{value:(_vm.form.AppSecret),callback:function ($$v) {_vm.$set(_vm.form, \"AppSecret\", $$v)},expression:\"form.AppSecret\"}})],1)],1):_vm._e(),(_vm.isBind && !_vm.toBind)?[_c('div',{staticClass:\"le-bind-over\"},[(!_vm.isPay)?_c('div',{staticClass:\"le-bind-header\"},[_c('span',{staticClass:\"le-text\"},[_vm._v(\"你的微信小程序尚未设置支付方式，请先设置支付方式。\")]),_c('he-link',{attrs:{\"href\":\"channel/applets-pay\"}},[_c('el-button',{staticClass:\"le-btn\",attrs:{\"type\":\"primary\"}},[_vm._v(\"立即配置\")])],1)],1):_vm._e(),_c('div',{staticClass:\"le-info le-card\"},[_vm._m(2),_c('div',{staticClass:\"le-item flex\"},[_c('div',{staticClass:\"le-item__label\"},[_vm._v(\"小程序名称\")]),_c('div',{staticClass:\"le-item__value\"},[_vm._v(_vm._s(_vm.form.name))])]),_c('div',{staticClass:\"le-item flex\"},[_c('div',{staticClass:\"le-item__label\"},[_vm._v(\"小程序码\")]),_c('div',{staticClass:\"le-item__value\"},[_c('div',{directives:[{name:\"popup\",rawName:\"v-popup.uploadQrcode\",value:(_vm.qrcode),expression:\"qrcode\",modifiers:{\"uploadQrcode\":true}}],staticClass:\"le-item--download\",attrs:{\"width\":\"340\",\"title\":\"小程序二维码\",\"hide_cancel\":true,\"sure_btn\":\"下载二维码\",\"module\":\"channel\"}},[_vm._v(\" 下载小程序码 \")]),_c('div',{staticClass:\"le-item-tip\"},[_vm._v(\"下载小程序码，用于推广与分享小程序\")])])]),_c('div',{staticClass:\"le-item flex\"},[_c('div',{staticClass:\"le-item__label\"},[_vm._v(\"小程序包\")]),_c('div',{staticClass:\"le-item__value\"},[_c('div',[_c('span',{staticStyle:{\"margin-right\":\"30px\"}},[_vm._v(\"是否已开通小程序直播\")]),_c('el-radio-group',{model:{value:(_vm.enable_live),callback:function ($$v) {_vm.enable_live=$$v},expression:\"enable_live\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"未开通\")]),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"已开通\")])],1)],1),_vm._m(3),_c('div',{staticClass:\"le-item--download\"},[_c('el-button',{staticStyle:{\"padding\":\"9px 0\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.download()}}},[_vm._v(\"下载小程序包\")])],1)])])]),_c('div',{staticClass:\"le-info le-card\"},[_vm._m(4),_c('div',{staticClass:\"le-item flex\"},[_c('div',{staticClass:\"le-item__label\"},[_vm._v(\"AppID\")]),_c('div',{staticClass:\"le-item__value\"},[_vm._v(_vm._s(_vm.form.AppID))])]),_c('div',{staticClass:\"le-item flex\"},[_c('div',{staticClass:\"le-item__label\"},[_vm._v(\"AppSecret\")]),_c('div',{staticClass:\"le-item__value\"},[_vm._v(_vm._s(_vm.form.AppSecret))])]),_c('el-button',{staticClass:\"le-editor\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.toBind = true}}},[_vm._v(\"修改账号信息\")])],1)])]:_vm._e(),((_vm.bind && !_vm.isBind) || _vm.toBind)?_c('div',{staticClass:\"le-cardpin\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.save('bind')}}},[_vm._v(\"保存\")])],1):_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"le-upload-content\"},[_c('img',{staticClass:\"le-upload-img\",attrs:{\"src\":require(\"../../assets/images/le-upload-applets.gif\")}}),_c('div',[_vm._v(\"下载中...\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"le-bind-des\"},[_vm._v(\" 绑定小程序并授权，快速发布小程\"),_c('br'),_vm._v(\" 序商城，自动提交最新版本的审核 \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"le-info__header flex align-center\"},[_c('span',{staticClass:\"le-tip\"}),_c('span',{staticClass:\"le-text\"},[_vm._v(\"基本信息\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"le-prompt-text\"},[_vm._v(\"请谨慎选择是否有开通小程序直播功能，否则将影响小程序的发布审核\"),_c('br'),_vm._v(\" 可前往 \"),_c('span',{staticStyle:{\"color\":\"#595959\"}},[_vm._v(\"微信公众平台>小程序>功能>直播\")]),_vm._v(\" 开通直播功能\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"le-info__header flex align-center\"},[_c('span',{staticClass:\"le-tip\"}),_c('span',{staticClass:\"le-text\"},[_vm._v(\"账号信息\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"le-matter\">\n    <div\n      class=\"le-upload-loading flex align-center justify-center\"\n      v-if=\"uploadLoading\"\n    >\n      <div class=\"le-upload-content\">\n        <img\n          class=\"le-upload-img\"\n          src=\"../../assets/images/le-upload-applets.gif\"\n        />\n        <div>下载中...</div>\n      </div>\n    </div>\n    <div class=\"le-bind\" v-if=\"!bind && !isBind\">\n      <div class=\"le-bind__content flex flex-direction align-center\">\n        <div class=\"le-bind-logo\"></div>\n        <div class=\"le-bind-name\">微信小程序</div>\n        <div class=\"le-bind-des\">\n          绑定小程序并授权，快速发布小程<br />\n          序商城，自动提交最新版本的审核\n        </div>\n        <el-button class=\"le-bind-btn\" type=\"primary\" @click=\"goBind\"\n          >立即绑定</el-button\n        >\n      </div>\n    </div>\n    <el-form\n      class=\"le-form\"\n      :rules=\"rules\"\n      :model=\"form\"\n      ref=\"bind\"\n      label-width=\"180px\"\n      v-if=\"(bind && !isBind) || toBind\"\n    >\n      <div class=\"le-form__header flex align-center\">\n        <span class=\"le-tip\"></span>\n        <span class=\"le-text\">填写小程序信息</span>\n      </div>\n      <el-form-item label=\"小程序名称\">\n        <el-input v-model=\"form.name\" placeholder=\"请输入小程序名称\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"AppID\" prop=\"AppID\">\n        <el-input v-model=\"form.AppID\" placeholder=\"请输入AppID\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"AppSecret\" prop=\"AppSecret\">\n        <el-input\n          v-model=\"form.AppSecret\"\n          placeholder=\"请输入AppSecret\"\n        ></el-input>\n      </el-form-item>\n    </el-form>\n    <template v-if=\"isBind && !toBind\">\n      <div class=\"le-bind-over\">\n        <div class=\"le-bind-header\" v-if=\"!isPay\">\n          <span class=\"le-text\"\n            >你的微信小程序尚未设置支付方式，请先设置支付方式。</span\n          >\n          <he-link href=\"channel/applets-pay\">\n            <el-button type=\"primary\" class=\"le-btn\">立即配置</el-button>\n          </he-link>\n        </div>\n        <div class=\"le-info le-card\">\n          <div class=\"le-info__header flex align-center\">\n            <span class=\"le-tip\"></span>\n            <span class=\"le-text\">基本信息</span>\n          </div>\n          <div class=\"le-item flex\">\n            <div class=\"le-item__label\">小程序名称</div>\n            <div class=\"le-item__value\">{{ form.name }}</div>\n          </div>\n          <div class=\"le-item flex\">\n            <div class=\"le-item__label\">小程序码</div>\n            <div class=\"le-item__value\">\n              <div\n                class=\"le-item--download\"\n                width=\"340\"\n                title=\"小程序二维码\"\n                :hide_cancel=\"true\"\n                sure_btn=\"下载二维码\"\n                module=\"channel\"\n                v-popup.uploadQrcode=\"qrcode\"\n              >\n                下载小程序码\n              </div>\n              <div class=\"le-item-tip\">下载小程序码，用于推广与分享小程序</div>\n            </div>\n          </div>\n          <div class=\"le-item flex\">\n            <div class=\"le-item__label\">小程序包</div>\n            <div class=\"le-item__value\">\n              <div>\n                <span style=\"margin-right: 30px\">是否已开通小程序直播</span>\n                <el-radio-group v-model=\"enable_live\">\n                  <el-radio :label=\"0\">未开通</el-radio>\n                  <el-radio :label=\"1\">已开通</el-radio>\n                </el-radio-group>\n              </div>\n              <div class=\"le-prompt-text\">请谨慎选择是否有开通小程序直播功能，否则将影响小程序的发布审核<br/>\n                可前往 <span style=\"color: #595959\">微信公众平台>小程序>功能>直播</span> 开通直播功能</div>\n              <div class=\"le-item--download\" >\n                  <el-button type=\"text\" style=\"padding: 9px 0;\" @click=\"download()\">下载小程序包</el-button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"le-info le-card\">\n          <div class=\"le-info__header flex align-center\">\n            <span class=\"le-tip\"></span>\n            <span class=\"le-text\">账号信息</span>\n          </div>\n          <div class=\"le-item flex\">\n            <div class=\"le-item__label\">AppID</div>\n            <div class=\"le-item__value\">{{ form.AppID }}</div>\n          </div>\n          <div class=\"le-item flex\">\n            <div class=\"le-item__label\">AppSecret</div>\n            <div class=\"le-item__value\">{{ form.AppSecret }}</div>\n          </div>\n          <el-button class=\"le-editor\" type=\"primary\" @click=\"toBind = true\"\n            >修改账号信息</el-button\n          >\n        </div>\n      </div>\n    </template>\n    <div class=\"le-cardpin\" v-if=\"(bind && !isBind) || toBind\">\n      <el-button type=\"primary\" @click=\"save('bind')\">保存</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport fileDownload from \"js-file-download\";\n\nexport default {\n  name: \"applets-info\",\n  data() {\n    return {\n      bind: false,\n      toBind: false,\n      rules: {\n        AppID: [{ required: true, message: \"请输入AppID\", trigger: \"blur\" }],\n        AppSecret: [\n          { required: true, message: \"请输入AppSecret\", trigger: \"blur\" }\n        ]\n      },\n      form: {\n        name: \"\",\n        AppID: \"\",\n        AppSecret: \"\"\n      },\n      isPay: false,\n      isBind: false,\n      qrcode: \"\",\n      uploadLoading: false,\n      enable_live: 0\n    };\n  },\n  methods: {\n    goBind: function () {\n      this.bind = true;\n    },\n    save: function (formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.$heshop\n            .appconfig(\n              \"post\",\n              {\n                behavior: \"save\",\n                key: \"apply_weapp\"\n              },\n              this.form\n            )\n            .then(() => {\n              this.$notify({\n                title: \"保存成功\",\n                message: \"小程序手动绑定成功。\",\n                type: \"success\"\n              });\n              this.toBind = false;\n              this.bind = false;\n              this.getForm();\n            })\n            .catch((err) => {\n              this.$message.error(err.data.message);\n            });\n        }\n      });\n    },\n    getForm: function () {\n      this.$heshop\n        .appconfig(\"get\")\n        .then((res) => {\n          this.form = res.apply.weapp;\n          this.isPay = !!res.appPay.weapp.appid;\n          this.isBind = !!res.apply.weapp.AppID;\n        })\n        .catch((err) => {\n          this.$message.error(err.data.message);\n        });\n    },\n    getCode: function () {\n      this.$heshop\n        .qrcode(\"post\")\n        .then((res) => {\n          this.qrcode = res.weapp.image;\n        })\n        .catch((err) => {\n          this.$message.error(err.data.message);\n        });\n    },\n    download: function () {\n      this.uploadLoading = true;\n      this.$heshop.download({\n        enable_live: this.enable_live\n      }).then((res) => {\n          //如何监听下载完成？\n          setTimeout(() => {\n            this.uploadLoading = false;\n          }, 1000);\n          fileDownload(res, \"wxapp.zip\");\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n  },\n  mounted() {\n    this.getForm();\n    this.getCode();\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.le-matter {\n  position: relative;\n  .le-upload-loading {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    height: calc(100vh);\n    background-color: rgba(255, 255, 255, 0.8);\n    z-index: 100;\n    .le-upload-content {\n      font-size: 14px;\n      font-family: Microsoft YaHei;\n      font-weight: 400;\n      color: #595959;\n      .le-upload-img {\n        width: 56px;\n        height: 56px;\n        margin-bottom: 10px;\n      }\n    }\n  }\n}\n.le-bind {\n  height: 454px;\n  background: #ffffff;\n  border-radius: 16px;\n  padding: 96px 0 80px 80px;\n  .le-bind__content {\n    width: 480px;\n    height: 278px;\n    background: #ffffff;\n    border: 1px solid #dcdfe6;\n    border-radius: 16px;\n    position: relative;\n    .le-bind-name {\n      font-size: 20px;\n      font-family: Microsoft YaHei;\n      font-weight: 400;\n      color: #262626;\n      margin-top: 68px;\n    }\n    .le-bind-des {\n      font-size: 14px;\n      font-family: Microsoft YaHei;\n      font-weight: 400;\n      color: #bfbfbf;\n      line-height: 20px;\n      margin-top: 15px;\n    }\n    .le-bind-btn {\n      width: 104px;\n      height: 32px;\n      background: #623ceb;\n      border-radius: 4px;\n      font-size: 14px;\n      font-family: Microsoft YaHei;\n      font-weight: 400;\n      color: #ffffff;\n      padding: 0;\n      margin-top: 30px;\n    }\n    .le-bind-logo {\n      width: 80px;\n      height: 80px;\n      background-image: url(\"./image/he-applets.png\");\n      background-size: 100% 100%;\n      background-repeat: no-repeat;\n      border-radius: 50%;\n      position: absolute;\n      top: -40px;\n    }\n  }\n}\n.le-form {\n  height: 320px;\n  background: #ffffff;\n  border-radius: 16px;\n  padding: 24px;\n  .le-form__header {\n    margin-bottom: 38px;\n    .le-tip {\n      width: 4px;\n      height: 16px;\n      background: #623ceb;\n      margin-right: 12px;\n    }\n    .le-text {\n      font-size: 16px;\n      font-family: Microsoft YaHei;\n      font-weight: 400;\n      color: #262626;\n    }\n    .el-input {\n      width: 380px;\n    }\n  }\n}\n.le-bind-over {\n  .le-card {\n    background: #ffffff;\n    border-radius: 16px;\n    padding: 24px;\n    margin-bottom: 24px;\n  }\n  .le-bind-header {\n    height: 56px;\n    background: #fee8ea;\n    border-radius: 16px;\n    padding: 14px 24px;\n    margin-bottom: 24px;\n    .le-text {\n      font-size: 14px;\n      font-family: Microsoft YaHei;\n      font-weight: 400;\n      color: #f5212d;\n    }\n    .le-btn {\n      width: 80px;\n      height: 28px;\n      background: #623ceb;\n      border-radius: 4px;\n      font-size: 12px;\n      font-family: Microsoft YaHei;\n      font-weight: 400;\n      color: #ffffff;\n      padding: 0;\n      margin-left: 20px;\n    }\n  }\n  .le-info {\n    //height: 358px;\n    .le-info__header {\n      margin-bottom: 40px;\n      .le-tip {\n        width: 4px;\n        height: 16px;\n        background: #623ceb;\n        margin-right: 12px;\n      }\n      .le-text {\n        font-size: 16px;\n        font-family: Microsoft YaHei;\n        font-weight: 400;\n        color: #262626;\n      }\n    }\n  }\n  .le-item {\n    margin-bottom: 23px;\n    .le-item__label {\n      width: 176px;\n      text-align: right;\n      font-size: 14px;\n      font-family: Microsoft YaHei;\n      font-weight: 400;\n      color: #262626;\n    }\n    .le-item__value {\n      padding-left: 16px;\n      font-size: 14px;\n      font-family: Microsoft YaHei;\n      font-weight: 400;\n      color: #262626;\n    }\n    .le-item__img {\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n    }\n    .le-item--download {\n      font-size: 14px;\n      font-family: Microsoft YaHei;\n      font-weight: 400;\n      color: #623ceb;\n      line-height: 20px;\n      cursor: pointer;\n    }\n    .le-item-tip {\n      font-size: 12px;\n      font-family: Microsoft YaHei;\n      font-weight: 400;\n      color: #bfbfbf;\n    }\n  }\n  .le-editor {\n    width: 132px;\n    height: 32px;\n    background: #623ceb;\n    border-radius: 4px;\n    font-size: 14px;\n    font-family: PingFang SC;\n    font-weight: 500;\n    color: #ffffff;\n    padding: 0;\n    margin-left: 193px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applets-info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applets-info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./applets-info.vue?vue&type=template&id=371778d2&scoped=true&\"\nimport script from \"./applets-info.vue?vue&type=script&lang=js&\"\nexport * from \"./applets-info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./applets-info.vue?vue&type=style&index=0&id=371778d2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"371778d2\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"static/img/le-upload-applets.8b4e315c.gif\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applets-info.vue?vue&type=style&index=0&id=371778d2&scoped=true&lang=scss&\""],"sourceRoot":""}