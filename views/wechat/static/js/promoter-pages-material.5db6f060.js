(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promoter-pages-material"],{"1d39":function(t,e,a){var n=a("a1a8");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* start--主题色--start */\n/* end--主题色--end */.font-family-sc[data-v-12af3bf0], .he-search .he-button[data-v-12af3bf0], .he-switch .flex-sub[data-v-12af3bf0], .he-item .content[data-v-12af3bf0], .he-item .content .cu-btn[data-v-12af3bf0], .he-item .he-footer .he-jump[data-v-12af3bf0], .he-item .he-footer .he-share--count[data-v-12af3bf0], .he-item .he-footer .he-btn[data-v-12af3bf0]{font-family:PingFang SC}.font-family-din[data-v-12af3bf0]{font-family:DIN}.he-card[data-v-12af3bf0]{background-color:#fff;padding:%?32?%;border-radius:%?16?%;margin-bottom:%?16?%}.iconbtn_arrow[data-v-12af3bf0]{font-size:%?18?%;color:#bebebe}[data-v-12af3bf0] .input-placeholder{font-family:PingFang SC;font-size:%?26?%;font-weight:500;color:#999}.he-sticky[data-v-12af3bf0]{position:-webkit-sticky;position:sticky;top:0;z-index:10}.he-search[data-v-12af3bf0]{width:%?750?%;height:%?112?%;padding:%?24?% %?32?%;position:relative;margin-bottom:0}.he-search .he-input[data-v-12af3bf0]{width:%?686?%;height:%?64?%;background:#f7f7f7;border-radius:%?32?%;padding-left:%?32?%}.he-search .he-button[data-v-12af3bf0]{position:absolute;top:50%;width:%?686?%;background:transparent;left:%?64?%;-webkit-transform:translateY(-50%);transform:translateY(-50%);z-index:10;font-size:%?28?%;padding:0;font-weight:500;color:#999}.he-search .he-button .iconsearchbar_search[data-v-12af3bf0]{font-size:%?28?%;margin-right:%?16?%}.he-switch[data-v-12af3bf0]{padding:0 %?32?%;height:%?114?%;text-align:center;position:relative;background:#f5f5f5}.he-switch .he-line[data-v-12af3bf0]{width:%?52?%;height:%?4?%;position:absolute;bottom:%?24?%}[data-theme="red_theme"] .he-switch .he-line[data-v-12af3bf0]{background-color:#e60b30!important}[data-theme="purple_theme"] .he-switch .he-line[data-v-12af3bf0]{background-color:#8f2df3!important}[data-theme="blue_theme"] .he-switch .he-line[data-v-12af3bf0]{background-color:#33a7ff!important}[data-theme="green_theme"] .he-switch .he-line[data-v-12af3bf0]{background-color:#1fc551!important}[data-theme="orange_theme"] .he-switch .he-line[data-v-12af3bf0]{background-color:#ff7f00!important}[data-theme="golden_theme"] .he-switch .he-line[data-v-12af3bf0]{background-color:#caa45a!important}[data-theme="red_theme"] .he-switch .active[data-v-12af3bf0]{color:#e60b30!important}[data-theme="purple_theme"] .he-switch .active[data-v-12af3bf0]{color:#8f2df3!important}[data-theme="blue_theme"] .he-switch .active[data-v-12af3bf0]{color:#33a7ff!important}[data-theme="green_theme"] .he-switch .active[data-v-12af3bf0]{color:#1fc551!important}[data-theme="orange_theme"] .he-switch .active[data-v-12af3bf0]{color:#ff7f00!important}[data-theme="golden_theme"] .he-switch .active[data-v-12af3bf0]{color:#caa45a!important}.he-switch .flex-sub[data-v-12af3bf0]{font-size:%?28?%;font-weight:500;line-height:%?114?%;-webkit-transition-delay:.1s;transition-delay:.1s}.he-list[data-v-12af3bf0]{width:%?750?%;background:#fff;border-radius:%?16?% %?16?% 0 0;padding:0 %?32?% 0 %?32?%;overflow:hidden}.he-item[data-v-12af3bf0]{border-bottom:%?1?% solid #e5e5e5;padding:%?45?% 0 %?24?% 0}.he-item .content[data-v-12af3bf0]{font-size:%?30?%;font-weight:500;color:#222;line-height:%?40?%;margin-bottom:%?24?%;word-break:break-all;position:relative}.he-item .content .block[data-v-12af3bf0]{position:absolute;bottom:0;right:0;background-color:#fff}.he-item .content .cu-btn[data-v-12af3bf0]{height:auto;padding:0;font-weight:500;font-size:%?30?%;color:#3273ea;line-height:%?40?%;background-color:#fff}.he-item .content .unfold[data-v-12af3bf0]{display:inline-block}.he-item .he-images[data-v-12af3bf0]{margin:%?24?% 0 %?8?% 0}.he-item .he-images .he-img[data-v-12af3bf0]{margin-bottom:%?16?%}.he-item .he-images .he-img[data-v-12af3bf0]:not(:nth-child(3n)){margin-right:%?16?%}.he-item .he-video[data-v-12af3bf0]{margin:0 0 %?24?% 0}.he-item .he-footer[data-v-12af3bf0]{height:%?80?%}.he-item .he-footer .he-jump[data-v-12af3bf0]{padding:0;font-size:%?28?%;font-weight:500;color:#3273ea;background-color:initial}.he-item .he-footer .he-share--count[data-v-12af3bf0]{font-size:%?28?%;font-weight:500;color:#ccc;margin-left:%?24?%}.he-item .he-footer .he-btn[data-v-12af3bf0]{font-size:%?24?%;font-weight:500;border:%?1?% solid transparent;background:#fff;border-radius:%?28?%;padding:0 %?24?%;height:%?56?%;line-height:%?54?%}[data-theme="red_theme"] .he-item .he-footer .he-btn[data-v-12af3bf0]{color:#e60b30!important}[data-theme="purple_theme"] .he-item .he-footer .he-btn[data-v-12af3bf0]{color:#8f2df3!important}[data-theme="blue_theme"] .he-item .he-footer .he-btn[data-v-12af3bf0]{color:#33a7ff!important}[data-theme="green_theme"] .he-item .he-footer .he-btn[data-v-12af3bf0]{color:#1fc551!important}[data-theme="orange_theme"] .he-item .he-footer .he-btn[data-v-12af3bf0]{color:#ff7f00!important}[data-theme="golden_theme"] .he-item .he-footer .he-btn[data-v-12af3bf0]{color:#caa45a!important}[data-theme="red_theme"] .he-item .he-footer .he-btn[data-v-12af3bf0]{border-color:#e60b30!important}[data-theme="purple_theme"] .he-item .he-footer .he-btn[data-v-12af3bf0]{border-color:#8f2df3!important}[data-theme="blue_theme"] .he-item .he-footer .he-btn[data-v-12af3bf0]{border-color:#33a7ff!important}[data-theme="green_theme"] .he-item .he-footer .he-btn[data-v-12af3bf0]{border-color:#1fc551!important}[data-theme="orange_theme"] .he-item .he-footer .he-btn[data-v-12af3bf0]{border-color:#ff7f00!important}[data-theme="golden_theme"] .he-item .he-footer .he-btn[data-v-12af3bf0]{border-color:#caa45a!important}.he-item .he-footer .he-btn[data-v-12af3bf0]:nth-child(2){margin-left:%?16?%}',""]),t.exports=e},3329:function(t,e,a){"use strict";a.r(e);var n=a("abf3"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"40ee":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"he-page-content",attrs:{"data-theme":t.theme}},[a("v-uni-view",{staticClass:"he-sticky"},[a("v-uni-view",{staticClass:"he-search he-card"},[a("v-uni-input",{staticClass:"he-input",attrs:{type:"text",focus:t.showInput},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.blurInput.apply(void 0,arguments)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t.showInput?t._e():a("v-uni-button",{staticClass:"cu-btn he-button flex align-center justify-start",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openInput.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"iconfont iconsearchbar_search"}),a("v-uni-text",[t._v("输入商品名称搜索")])],1)],1),a("v-uni-view",{staticClass:"he-switch flex"},[a("v-uni-view",{staticClass:"flex-sub",class:{active:0===t.currentIndex},attrs:{id:"he-switch--0"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTab(0)}}},[t._v("全部")]),a("v-uni-view",{staticClass:"flex-sub",class:{active:1===t.currentIndex},attrs:{id:"he-switch--1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTab(1)}}},[t._v("图片")]),a("v-uni-view",{staticClass:"flex-sub",class:{active:2===t.currentIndex},attrs:{id:"he-switch--2"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTab(2)}}},[t._v("视频")]),a("v-uni-view",{staticClass:"he-line",style:[t.tabBarStyle]})],1)],1),a("v-uni-view",{staticClass:"he-list"},[t._l(t.list,(function(e,n){return a("v-uni-view",{key:n,staticClass:"he-item"},[a("v-uni-view",{class:[{"he-line-4":!e.unfold},"content"]},[t._v(t._s(e.content)),e.too_long?[e.unfold?t._e():a("v-uni-view",{staticClass:"block"},[t._v("..."),a("v-uni-button",{staticClass:"cu-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.expandCollapse(e)}}},[t._v("展开")])],1),a("v-uni-button",{staticClass:"cu-btn unfold",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.expandCollapse(e)}}},[t._v("收起")])]:t._e()],2),1===e.type?a("v-uni-view",{staticClass:"he-images flex flex-wrap"},t._l(e.pic_list,(function(t,e){return a("he-image",{key:e,staticClass:"he-img",attrs:{"image-style":{borderRadius:"8rpx"},width:218,height:218,src:t}})})),1):2===e.type?a("v-uni-view",{staticClass:"he-video"},[a("listVideo",{attrs:{index:e.id,src:e.video_list.url,poster:e.video_cover},model:{value:t.videoCurrent,callback:function(e){t.videoCurrent=e},expression:"videoCurrent"}})],1):t._e(),a("v-uni-view",{staticClass:"flex he-footer align-center justify-between"},[a("v-uni-view",[a("v-uni-button",{staticClass:"cu-btn he-jump"},[t._v("查看商品")]),a("v-uni-text",{staticClass:"he-share--count"},[t._v("分享"+t._s(e.share_count))])],1),a("v-uni-view",[a("v-uni-button",{staticClass:"cu-btn he-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.hairpin(e)}}},[t._v("一键发圈")]),a("v-uni-button",{staticClass:"cu-btn he-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.routerCreateDynamic.apply(void 0,arguments)}}},[t._v("发动态")])],1)],1)],1)})),t.list.length>0?a("he-load-more",{attrs:{"margin-top":39,"margin-bottom":39,status:t.loadStatus}}):t._e(),a("v-uni-view",{staticClass:"safe-area-inset-bottom"})],2),t.isNothing?a("he-no-content-yet",{attrs:{text:"暂未相关素材"}}):t._e(),a("he-save-loading",{attrs:{title:"正在保存图片…"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)},o=[]},"4ddf":function(t,e,a){"use strict";var n=a("bc8a"),i=a.n(n);i.a},abf3:function(t,e,a){"use strict";var n=a("fe5c").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("b5aa"),a("0d84"),a("6afd"),a("a5c9"),a("2769"),a("23db");var i=n(a("99a5")),o=n(a("aa66")),r=n(a("4d92")),s=n(a("dc87")),h=n(a("4376")),c=a("45b6"),f={name:"material",components:{heNoContentYet:o.default,heLoadMore:r.default,heSaveLoading:s.default,listVideo:h.default},data:function(){return{content:"",scrollBarLeft:0,showInput:!1,barFirstTimeMove:!0,tabQueryInfo:null,currentIndex:0,tabWidth:0,list:[],loadStatus:"loadmore",isNothing:!1,loading:!1,page:{}}},computed:{tabBarStyle:function(t){var e=t.barFirstTimeMove,a=t.scrollBarLeft;return{transform:"translate(".concat(a,"px, -100%)"),"transition-duration":"".concat(e?0:"0.5s")}}},onLoad:function(){this.init()},methods:{init:function(){var t=this;this.getTabRect(),this.getList().then((function(){console.log("gbhsdyhsdh "),t.isNothing=0===t.list.length}))},getList:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.promotermaterial)(t.page.current,t.currentIndex,t.content);case 3:a=e.sent,n=a.data,i=a.pagination,n.forEach((function(t){var e=4*uni.upx2px(686);e-uni.upx2px(30)*t.content.length<0&&(t.too_long=!0,t.unfold=!1)})),t.page=i,t.list=t.list.concat(n),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))()},expandCollapse:function(t){t.unfold=!t.unfold},blurInput:function(){this.$h.test.isEmpty(this.content)&&(this.showInput=!1),this.page.current=1,this.getList()},openInput:function(){this.showInput=!this.showInput,this.list=[]},clickTab:function(t){var e=this;this.currentIndex=t,this.page.current=1,this.scrollByIndex(),this.list=[],this.getList().then((function(){e.isNothing=0===e.list.length}))},getTabRect:function(){for(var t=uni.createSelectorQuery().in(this),e=0;e<3;e++)t.select("#he-switch--".concat(e)).fields({size:!0,rect:!0});t.exec(function(t){this.tabQueryInfo=t,this.scrollByIndex()}.bind(this))},scrollByIndex:function(){var t=this,e=this.tabQueryInfo[this.currentIndex];if(e){var a=e.left+uni.upx2px(228)/2;this.scrollBarLeft=a-uni.upx2px(228)/4,!0===this.barFirstTimeMove&&setTimeout((function(){t.barFirstTimeMove=!1}),100)}},routerCreateDynamic:function(){uni.navigateTo({url:"/promoter/pages/create-dynamic"})},hairpin:function(t){var e=this;1===t.type&&wx.authorize({scope:"scope.writePhotosAlbum",success:function(){e.loading=!0,e.saveFile(t.pic_list)}})},saveFile:function(t){var e=this,a=JSON.parse(JSON.stringify(t)),n=a.splice(0,1)[0];wx.downloadFile({url:n,success:function(t){wx.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){a.length>0?e.saveFile(a):(e.loading=!1,uni.showToast({title:"文案已复制， 图片已保存",icon:"none",duration:2e3}))},fail:function(t){console.log(t)}})}})}},onReachBottom:function(){var t=this;this.page.pageCount>this.page.current?(this.page.current++,this.loadStatus="loading",this.getList().then((function(){t.loadStatus="loadmore"}))):this.loadStatus="nomore"}};e.default=f},bc8a:function(t,e,a){var n=a("1d39");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("b41b").default;i("0a6c699c",n,!0,{sourceMap:!1,shadowMode:!1})},d103:function(t,e,a){"use strict";a.r(e);var n=a("40ee"),i=a("3329");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("4ddf");var r,s=a("522a"),h=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"12af3bf0",null,!1,n["a"],r);e["default"]=h.exports}}]);